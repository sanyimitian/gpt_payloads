{
  "language": "zh",
  "full_text": "我们继续大模型去开发一些聊天机器人应用的时候 经常会遇到消息的一些管理问题 比如说有些大模型的话 它的上下文床口是会限制大小的 比如说限制1024可以 还有一些我们跟AI聊天的时候 这些聊天历史记录 怎么样来做些存储 这些都是我们在实际开发中遇到了一些问题 那么今天的话 我们就给大家来分享一下 消息管理还有聊天历史 怎么来处理 主要分一下几块来讲 首先我们会讲 这个消息在内存里面是怎么样做一个存储的 以及我们可以介入一些外部的一些数据库 比如说像Release 我们可以把消息持久化到Release里面去 然后如果说这个大模型对聊天的历史 有限制的话 我们要去修改聊天历史的一些记录 比如说只保留最近的这个诗条 做一些消息的一些采简 并且的话我们还可以针对本次聊天的话 我们可以让它做一些总结 就是针对我们上下文的一些这个总结 首先的话我们来讲这个消息存储在内存里面 怎么来实现 那么在这个狼致里面 就是它提供了一个类 叫ChartMessage History 从这个类的名字 我们就可以看得出来 这个是专门用来做这个聊天消息的一个历史 一个这个存储的这么一个类 那这个类的话就是它可以在我们去运行整个狼致 上下文调用的时候 它可以去传递一些这样的一个参数 比如说我们一般做一个聊天机器人的话 会有一个这个随身ID的有概念 比如说我们用那个 这个ChartGPT 大家去这个聊天的时候 首先会新增一个会化 并且的话我们可以对这个会化做一个自定义 比如说我这个是问一些技术方面的一些问题的 那这个会化名的话可能叫技术 当然它一个会化ID 比如说你想聊一些这个 比如说一些文章生成类的 那它也是一个会化 也就是说我们会有一个多个会化管理 那这个多个会化管理 我们在狼致里面怎么来实现呢 我给大家来到这个Chart里面给大家来讲一下 首先我们要做一个机域整个一个狼致 还要做一个历史消息的一个管理的话 首先我们来讲什么要把这个消息历史的话 存在类传里面去 那首先第一步的话 我们要去引入一些包 引入一些包 那么除了 因为我们要聊天的话 那你最基本的你的引入一些像提示是模板 还有一些这个传递消息的一些站位服的一些这个库 还有包括Chart Open AR的一些库 包括这里面最关键就是什么呢 叫这个引入 这个聊天聊天消息历史记录 要把这个库给它引入进来 这样的话我们就可以把这个消息存储在这个里面 然后的话就是它有一个基础的一个类 叫这个BaseChart Ness history 这个我们等一下来说 还有包括像这个Renable history 这个是因为Langiton它整个它里面是定义的一套 叫Renable Interface 就是这个叫可运行的这个接口 它整个链式掉用的话都是基于Renable去实现的 所以说它这个Renable的话它也有一套 这个History传递的一个机制 那首先的话我们要去聊天的话 你得干嘛呢就是叫 我们叫创建一个什么呢 聊天提示词 我版就是你得有一个这个 提示词模板说白了就是要跟AI去溝通的时候 咱们先得把那个一些问候语 就是比如说给AI做一个定性 你告诉AI你是一个什么什么住手 就是你的一个sponse反悔的话 大概是二十个字或者更少 就是给AI做一个要求 然后的话这里有一个关键的点就是什么呢 就是这里是做那个这个历史消息 战位服 就是这个我们通过传入一个Message Place Holder 就是一个编辆名的方式 我们可以把每次聊天的这个历史的话 往这个里面传上去 也就是说我们每次聊完天是吧 深层的那个记录的话 我们可以把它塞到提示词模板里面去 给它做一些这个出使化的一个消息 就给你跟AI出使化聊天的时候 你可以给它塞点消息进去 然后是这个Human 就是这个是我们用户的这个提示词 这个是一个引譜的编辆做一个战位 等一下的话我们要传这个参数 然后下面的话就是这个 下的OpenAI的这么一个这个打模型调用 那这里的话就要用到浪称里面的 甚至调用用这个数线 这两个东西连接起来 就是再有这个提示词的这个打模型调用 然后这里我们会要订一个字点 叫什么叫Store 这个是什么用来存储这个会化 会化 就是还可以说叫这个会化 历史记录 我要是用来存储这个会化历史记录 它是一个字点内心的 因为我们等一下的话要根据这个 随身ID往里面去存这个History 就是这个消息列表 然后下面我们要订一个韩术 叫什么呢 这里 订议一个这个过去会化历史的什么呢 韩术 传入什么呢 录参是什么呢 这个 C 寻 ID ID 然后结果是什么是反悔一个会化历史记录 也就是我们通过 C 寻 ID 要把这个会化记录给反悔回去 这里它做了一个判断 如果说这个 C 寻 ID不在这个里面的话 也就是之前没有存储过这个会化 你是记录的话 我们要给它做一个什么 要编辆处置化 就是往这个字点里面 把这个 C 寻 History 就是这个会化ID 对你的这个 Cartmess History做一个处置化 然后后面 我们会往这个 C 寻里面不断地去 更新地史会化记录 后面的话我们就能意识什么呢 给取到它 这个它是实现了叫一个 base Cartmess History 这个是浪称 这个官方给我们提供的一个 叫相当于一个借口 就是叫 baseCartmess History 相当于我们这里的话 相当于它给它做了一个方法的一个寄程 就是我们后面聊天所有的消息的话 都会被塞到这个里面去 通过这种方式的话 我们每次的这个消息记录的话 都可以往这个字点里面去做一个什么获取 就相当于我们去拿到浪称上下文 它的聊天率是记录 就是第一步我们要有一个韩处 然后第二步的话 这里就非常关键了 这是什么呢 就是这个是 这个叫创建一个代会化历史记录的运行记 这个就是相当于是一个 renable 这个叫 renable 这个就是浪称里面定义的一套 它电视调用 整个电视调用里面什么呢 它需要一个 renable 也就是说我们需要带的这个 它其实是一个 renable 因为什么呢 它整个去聊天的时候 就是它需要什么呢 需要一个什么 会化记录的一个获取 也就是它去掉大模型的时候 它要把历史记录网里面塞进去的话 首先你要把我们刚刚定义的这个 获取会化历史记录的这个韩数什么呢 往这个里面做一个传闭 然后它也可以定一个音色 这个 input 卖设计 P 就是我们的提示词 你可以往里面去传 相当于它定一个 这样的一个 renable这个韩数 那你可以什么呢 往里面去传这个会化历史记录 你看有两个参数 一个叫 input 一个叫 history 然后还有一个 renable renable的话就是咱们刚刚上面定义的浪称的那个 整个趁实调用 就是把提示词模板 还有这个大模型调用 整个把它变成一个 欠就是一个 renable 那这里的话就是浪这个 renable 具有什么呢 传闭历史消息记录的这么一个 实现就是一个 renable with messy history 就做这么一个目的 然后这里干嘛呢 这里就是调用 这里就是这个调用 什么呢 调用这个 renable 就是執行 就是让这个 renable執行 就是这个代历史会化记录 调用代会化历史记录 renable 那執行 執行的话首先干嘛呢 我们需要传入一个什么呢 别的体 就是一个大模型的一个冷立的一个定义 因为我们要问一个语权的一个问题 这个数学领域的一个问题 所以说我们这个 别的体的话要传一个 mass 这个的话就是我们上面 就是大家看 就上面我们那个系统提示 给AI定系的时候 这里也定义的一个 变量的一个站位符 这个就是用来什么呢 给AI定系的 就是也是一个助手 然后你什么人力比较突出 这里我们要把这个参数传进去 让我们传的是一个数学的 一个这样的一个单词 然后这里 我们要传入一个config 这个config的话 就是用来传递我们的一个 Sation ID 这个地方 这里我们上面有一个海述 这里定义的一个什么呢 一个这个 Sation ID 对不对 这个Sation ID 我们在哪里传进来的呢 大家看在这里 而定一个config 这个是个固定协法 然后这里面提供了一套规范 就是你可以往里面传一个 config的这么一个字点 它字点里面有一个configable 然后这里里面要带一个 还要带一个字点 一个Sation ID 然后我们的这个Sation ID 叫ABC 123 这样的话就是什么呢 整个一调用的时候 我们就会带上这个Sation ID 搭上这个Sation ID 我们可以做一个实验 就是你看 怎么证明它是在同一个会晃里面呢 我下面问一个问题 就是大家看 这里 大家看 我这里 这是第一次调用 调用这个 Brandable 让它执行 调用大模型 问这么一个问题 然后传个Sation ID 是ABC 123 然后我第二次 我又调用 跟上面的参数一模一样 然后会晃ID也是一样的 我问它什么 如果说它是在同一个会晃里面的话 它的话 它就知道我上面问了一个什么问题 问了一个语选的问题 如果说你不是在一个Sation ID里面的话 像我们做了会晃隔离 整个聊天历史 它是看不到的 它就是在另外一个会晃里面 你看我下面一个调用的话 我用的是DF234 正常的话 这个是能够回答出来语选什么的 最后一句输出的话 应该达不出来 这是我们有预期的一个效果 来让它跑一下 大家看 那么第一个 你看我问语选是什么意思 这是第一句话 就是输出来的 然后第二次 你看 这里 我问什么的时候 它至少知道我上一个问的什么 是一个语选的一个问题 但是我到第三个 如果说换了一个Sation ID的话 这里大家看 它就是 它就不知道了 你看我没有明白你的问题 这里就是因为它没有共享一个Sation 不在一个会晃里面 所以说那个历史聊天记录它没有 这样的话它就不记得了 这个就是叫记忆的一个功能 就是我们这个消息的一个传递 OK 就是第一个例子 就是我们要把这个消息 存住在这个类存里面 然后我们来看下一个例子 叫配置会晃维替 就是上面那个例子的话 它有一个问题 就是它没有以用户ID 上面就是一个Sation ID 其实 我们做一个聊天机器人用的话 正常来说 我们还要一个用户的一个感觉 就是我们要有一个用户ID 加上这个会晃ID 才能作为一个 维健 就是每个客户都有独立的一个会晃 就是我们是要以用户为为度 用户下面有多个会晃 应该是这种方式 类似于这种 我们怎么应该实现的 我们来看一下 这种方式的话就是 我们来看这个例子 然后上面一些包的一个引路的话 都比较类似 只是说多引路了一个东西 叫什么呢 叫一个叫 就是可以配置引路 引路浪称的什么呢 Renable history 就是一个 引路它的一个配置的 一个自断的一个 神明的一个类 引路浪称 这个 浪称的一个配置 就是一个针对 history 就是整个会晃的一个配置 就多了这么一个东西 然后这里的话 上面讲过了都是一样的 然后在这里 来看 我们之前那个例子的话 首先 你看这时候它就是一个 situation 如果说我们还要加一个 用户的一个赶紧进去做 怎么办呢 在这里 在还是 进程刚刚那个 based history 然后在这里写两个参数 一个叫 UID 第2个叫 Convocation ID 然后干嘛呢 然后在这个 获取的方式这里 两个参数都传续 就是这个字点 获取的这个方式的话 大家看 之前的那个写法 是store里面 就是传一个参数 现在的话 现在与store里面 要传两个参数 一个 UID 一个 Convocation ID 就是我们根据 这两个参数组合去 整个聊天机室 记录会晃 然后在下面这个地方 同样的还是 要创建这么一个Renable based message history 这么一个实力 但是但是 它里面的参数 会多了一些 前几个参数都是一样的 就是一个是Renable 我要调大模型 整个一个Channel 一个调用 然后下面的话 是这个 刚刚那个 或许Sation的Haceory的一个韩数 然后下面就是这个 提示是参数 这个是两天机物参数 然后下面就不一样了 下面传络的是一个 Haceory Factory 这个Config 然后这里的话 就是我们刚刚那个 引入的一个什么呢 叫Configable BuildSpec 这个的话就是可以什么呢 支持我们刺定义的传续 这个参数 比如说你大家看啊 就是我相当于我 默认的话 这个会化聊天历史的话 它默认 标准化的话 就是支持一个Sation ID 做一个传络的 那你现在要 传两个参数进去的话 这里我们就要做一个 配置的一个拓展 我们要把两个参数展进去 第一个参数就是我们的 UID UID 然后这个参数叫Convociation ID 这个其实就是刚刚那个 Cation ID 我们把这个两个参数加好之后 它 获取这个历史聊天记录 它刚出实化的一个配置 现在就被我们做了一个拓展了 把这两个东西 加进去之后 大家看啊 跟刚刚那个调用一样 还是用这个 with method history这个Randable 去调用 调用 但是区别在什么呢 刚刚那个 configure 它传络是一个 Cation ID这个参数 然后这里的话 它传络的是两个参数 一个要用户 ID一个叫Convociation ID 然后 就是调用的时候 就是把这个参数给改了 就是加两个参数 所以说 这个例子的一个关键点就是 在于大家要知道 我们去获取历史 会花记录的时候 这个是支持 动态拓展的 就是它不止是可以 根据这两个参数 你还可以拓展出来更多的参数 关键点就是在于 你再去重写这个 过去什么 Get a Station History 这个韩术的时候 你这里要对应的参数 跟下面对一对一好 就是你拓展几个参数 下面就要加几个参数 这个比较关键 然后下面的例子 就是一样的 就是调用多次 看到这个历史聊天记录 那么记记住 这个其实是一个意思 然后这里大家看我问的 你看于旋是什么意思 第一个 我是在同一个用户下面 同一个会花 ID 所以大家看到这两个问题 你看前两句话 什么呢 它都能记住 我问的是于旋这个问题 到最后一个输出的时候 它就不知道了 因为我把这个 虽然是同一个用户下面 但是我看我随时会花 ID不一样 所以说它 正常来说它也不记得 所以说这个是这个例子的一个意思 叫配置会花为一件 然后的话 我们再来说这个消息十九话 我们前面 刚刚给大家讲的这个 消息历史 尘主的话 都是尘主在内存里面的 但是我们如果说 想要做一个什么呢 就是这个 历史聊天记录 用户 我换了一个设备登入之后 我希望干嘛呢 我可以同样加在之前的历史记录 就我不希望存在内存里面 我希望可以多设备 去做一个共享 那这时候怎么办呢 这时候大家可以干嘛呢 把这个 你可以存在 RIDIS 没去 就是这个我们可以存在 RIDIS 呢 那这个存在 RIDIS 里面的话 大家首先得啟动一个 RIDIS 如果说你是 Linux 系统的话 或者说你有一个 Linux 服务器的话 大家可以用遭合的方式 把这个 RIDIS 给大家装一下 那我现在我用的是 Windows 这里给它啟动用的一个 Windows 版本的这个 RIDIS 这个已经啟动好了 然后并且的话 我们有一个 RIDIS 客户单工具 给大家可以看到 我们目前是新典型成功的 目前这个里面是没有 存出任何数据的 那我们现在 给大家讲的一个例子就是干嘛呢 我需要把这个聊天第十级录 存在 RIDIS 然后我等一下 通过这个东西 我可以看到这个里面 存出的一些数据的一些结构 那我又要通过这个 浪称这个聊天记录 存在 RIDIS 里面去的话 大家可以通过一个叫 RIDIS Charter Master History 这个的话就是浪称里面 给你提供一个 RIDIS 转门用来做消息存储的一个 这样的一个例 我们需要把大家移入进来 我们讲课 这些课件资料的话 大家可以在评论区回复666 然后去领取 这个这里的话 就是大家看 我们首先 我们回到这个拍畅里面 给大家来讲 关于存在什么 存这个 RIDIS 数据库呢 来 来看一下 然后前面大部分 引入的库的话 跟我们前面讲的那个例子差不多 然后就多了一个东西 就是什么呢 这里 引入 RIDIS 这个 聊天 消息存储 就是这个类 就是我们需要把这个类给的引入进来 有了这个之后 我们就会往里面去存这个消息 历史记录了 我们之前给大家看的那个 Memory 聊天历史记录的话 大家看 这个其实是一个什么呢 之前那个 是一个 Charter Master History 这个是存类存的 那现在 大家看 我们是一个叫 RIDIS Charter Master History 就是把它存在 RIDIS 没去了 然后这个上面 给大家看到的这个一些方法的话 跟刚刚那个是一模一样的 这个都是类似的 然后这里 下面 我们首先你要转那个 存在 RIDIS 你首先点定一个 RIDIS的点点 那个连接地址对不对 因为我 不属于这个本地环境 所以我是採用 RIDIS 这个 这个 Locost 然后连接到它的一个 Db0 对应在这里 它是一个 Db0 的优数去库 OK 然后的话 就是在下面 我们要 说明有什么呢 叫 Gate Master History 跟我们之前讲的那个粒子一样 之前那个是 去继承那个什么 Based Charter Master History 现在 因为我们不存类存了 要存类的粒子了 所以这里要改成 叫 RIDIS Charter Master History 然后 这里大家看 就是我们反回的话 是一个什么呢 反回的是一个 RIDIS Charter Master History 就不是之前那个啥类 不是之前那个 Store 之前那个 Store 是我们自己订的 那现在这个东西干嘛呢 其实是不需要的 不需要了 那现在直接反回一个 RIDIS Charter Master History 然后 把这个 C 上来丽网里面一传 就可以 然后把这个地址传进去 这样的话 浪称就会帮你 做 RIDIS的一个消息的一个存储 然后 同样的是 我们要有一个 RIDIS Master History 这个是浪称里面的规范 要有一个 RIDIS 支持 调用大模型 以及传递消息 这是基督的一个 RIDIS 然后我们把这相关的传说 给它传进去 好 传进去 这个跟之前讲的那个一模一样 然后调用的时候 这里也是一样的 调用方式一模一样 只有过去消息的方式 这个要变一下 其他的其实方法都是一模一样 没什么去的 好 那我们同样下面做一个例子 就是我们前两个 调用都是在一个会话里面 如果说它能够 给我们之前的效果一样的话 说明这个消息 已经存在 RIDIS里面去了 如果说不对的话 说明就先存了有问题 我们来跑一下 然后等一下看一下 RIDIS里面也没数据 好 看一下结果 大家看 第一个结果出来了 没问题 然后第二个 它也出结果 虽然是个英文的 但是我们可以从过这个看得出来 扩散 就是它是一个 它也是语选 虽然它是一个英文的 但是没关系 它至少 记住了我之前回到一个问题 那下面的一个 就是它就不记得了 好 这个说明消息 已经成功的 存住到 RIDIS里面去了 来 我给大家看一下 大家看 这个会话里面 你看是不是多了两条这个记录 就是两个会话 一个会话叫 ABC23 第二个叫敌艳 DEF234 你看这个 ABC23里面 大家就可以看到 你看这个是我们 之前的聊天记录吧 你看这个里面有几 dag的有利 一个是我们用户的一个题 gehabt死 一个题了死 这个题了死 这里它用的是这个 应该是这个 Nue 的别码 有点不干嘛 那这个别码 大家看就是这个里面 它 issues 一个中文 但是应该做了软码 看不出来 我们看一下这个是用户提示词,然后这个是AF反围的,它都给它转了编码了,转了编码了,所以都看不出来 应该在这个里面,都有,这个是历史遥战机路,然后那个DEF其实也有,我刚那个ABC那个调用了两次嘛 是吧,有两段那个对话的消息嘛,然后DEF,其实就调用了一次,一次用户提示识,一次AI的反围,所以里面就两下记录 说明这个消息是可以正常的存置到DEF没去的,好 然后我们来说这个消息,然后如何去做一个管理呢,就是我们如果要去修改性消息的疫情 这个一般是做了什么场景呢,就是我们希望什么限制模型数据处理的一些数据量 首先,调完大模型,它是要付费的,就是你如果说加载过读的消息的话,对这个成本也是一个消耗 所以说我们跟大模型聊天的时候,我们可能希望它,比如说就存主最近的一些消息 比如说就前十条,是吧,前三条,比如说我们要对消息做一个采简 就不能说你跟它聊天聊了几个小时,里面有几万条消息,你都丢给大模型 投肯的消货是比较大的,所以说这个里面的话我们要做一些消息的一些采简 那怎么来采简呢,给大家看一下,我们来看一下消息的一个采简 这个例子,来大家看,首先,我往这个里面,我没认的,往哪里面塞了几条记录 然后下面会执行一个例子,什么例子呢,就是我只保留最近的几条例子记录,只保留最近的几条例子记录 然后我问一个问题的时候,我看它是不是有没有在保,就是什么呢,查清楚来,我先给它跑一下这个例子 比如说我问的一个问题是,我下午再打篮球,但是因为我们这个里面只保留了两条记录,只保留两条记录 两条记录,你看我问它这个历史消息的记录的时候,比如说我下午再打篮球 然后我下面这个消息是,就是我给它做了一个对话,首先我给它问叫Jack,你好什么什么什么,我今天很开心 然后我下午再打篮球,你下午再干什么 然后你看,我问它下午再打篮球的时候,它回答的是那真棒了,篮球是一步很棒的问题 然后我再问它一个问题,它应该只保留了最近的这个两条消息 你看我问它一个什么呢,我问它一个我叫什么啊,我叫什么名字,我看它那么打得出来 因为我只保留了两条嘛,看一下我前面那个消息,它知不知道我叫谁啊 大家看啊,就是我没有啊,你看我没有这个人的一个信息,你可能告诉我的名字嘛,因为我只保留了最近的两条 这个最近就是我最后加入了两条,也就是说它最后可能记住了我两句话,你看我今天下午再干嘛 我今天心里怎么样,可能就记住了两句话,所以说我问它啊,我今天下午再干嘛啊,我今天下午再干嘛 看它能不能知道啊,看一下这个记录啊,大家看,你看它就知道我在篮球,说明这个里面我这个保存最近两条记录,它就成功了 这个就是叫做那个消息采简啊,这个是我给它演示一个效果,然后我们来重点来看这个采简怎么来实现的呢,来来看,在这个里啊,我写了一个这个trimmessage,就是在这个里面啊,在这里啊,就是我去通过这个sation id拿消息的时候,大家看啊,在这里我要传络一个叫这个,在这里啊,做微笑啊,在这里啊,来看 就是我们去做这个消息啊,执行的时候啊,前面的例子跟之前一样啊,还是有一个rendable with mass history,然后这里的话,哎,你需要传络一个什么呢,叫trimmchart history,啊,根据sation id去,去这个啊,就是我们要有这么一个这个对象去取,啊,这个就是我们通过那个采简消息里面啊,定义的一个零十条天的一个对象啊,这个就是做完消息采简之后的一个数据,那这个消息采简在哪里实现的呢,在这里,大家看啊 就是我们单独订一个trim,啊,这个trim里面单独要有一个rendable,啊,这个这么一个叫send的一个寒树啊,这里我们要订一个message trimmed,啊,这个就可以干嘛呢,哎,它会传络一个什么呢,传络一个这个叫trimm的一个message,啊,在这个寒树里面,这里大家可以看到啊,它只里里面就做了一个判断,比如说它判断你里面消息存住小于等于爱的时候,它就直接written false了,然后把下面的给可令了,啊,说明它干嘛啊, 然后呢,只取最近的两条数据,啊,其实实现非常近来,就是从那个历史消息基础里面,只取最新的两条数据,报名的消息就丢细掉了,啊,非常简单,就这么,啊,几行代码就完事了,啊,所以说这个就是做消息采简,啊,就是你前面不管给他聊多少话,是吧,他只保留最后聊聊聊天记录,啊,就是这个是第一条,这个是第二条,啊,就是用户的这个消息嘛,是吧,只保留两条,啊,OK 聊天历史,啊,就是做一个采简,然后做完采简之后,其实我们还可以干嘛呢,啊,做一个记忆的一个总结,啊,就是说白了,你给他聊了一堆,啊,然后你问他一个问题,请帮我总结一下,咱们刚刚历史聊天聊了什么东西,啊,来,给他看一下这个例子,这个叫总结历史聊天记录,啊,这个里面, 好,这个的话其实也比较简单了,就是说白了就是把历史聊天记录把它参数,是吧,把了历史聊天记录的里面的数据, 平坚起来,平常成一个什么呢,一个提示词,哎,然后你看, 然后给他指示,啊,比如说我希望将上述聊天消息农桌成一条,再要消息,尽可能包含多个具体细节,啊, 也就是把你的聊天记录,啊,那些数据,再配合一个用户的一个什么呢,提示词,这样的话,哎, 他就可以干嘛呢,帮你去做一些总结归那,啊,被你的聊天记录做一个总结归那, 那前提是你得把聊天记录,传给他,啊,并且要加一个这样的一个提示词, 这样你掉用的时候干嘛呢,哎,把这个东西,哎,作为一个方法,你看,传到哪里呢, 就是你要封装成一个寒树啊,在这里大家看,啊,就是也是通过刚刚那个,啊, 一个SAN的一个寒树,啊,就是做消息的一个总结,刚刚是做消息的一个什么呢, 叫,呃,才简,这个是专门有一个总结的这么一个参数, 哎,你把总结的一个参数传给他,那浪称在掉用的时候,他就会干嘛呢, 帮你去做一个总结,啊,比如说我,你看我现在一个提示词就直接问他什么呢, 名字,下午再干嘛,心情,啊,我就问了他这个相当语问的三个问题, 然后他做总结之后,他会把我前面的聊天记录, 全部给你农作成一句话,来,给大家看一下,这个效果啊, 稍微一点慢啊,稍等一下,来看一下这个总结的效果怎么样啊, 就是我们呃,有三个问题,啊,现在语句就一句话问了三个问题, 然后我看一下这个历史聊天记录,啊,到底能不能给大家回总成一个消息啊, 这个数量是不是有点到了,太慢了啊,我超实了,我再跑一下啊, 我再跑一下啊, 啊,可能这一些有些网络问题跑不出来啊, 要不然去我们直接看这个文囊上面拿, 大家看啊,如果说他跑完的话,他就会给出这么一个反回出来, 啊,就是什么用户,什么什么,今天天气很好, 然后他今天下午再反安求,啊,就是他现在帮你做了一个总结, 帮你做了一个总结,所以说,哎,你问他的一个问题的话, 不管你问他几个问题,他最终会给你做一个农说, 好,这个有那个网络问题怎么就不跑了啊, 其实你要跑的话,那个效果也是一样的啊, OK,以上的话就是本次的一个分享, 关于这个浪称的一个消息管理, 与这个聊天历史存储, 如果对大家有帮助的话,欢迎以前三年,",
  "segments": [
    {
      "start": 0.0,
      "end": 3.7,
      "text": "我们继续大模型去开发一些聊天机器人应用的时候"
    },
    {
      "start": 3.7,
      "end": 6.6000000000000005,
      "text": "经常会遇到消息的一些管理问题"
    },
    {
      "start": 6.6000000000000005,
      "end": 8.4,
      "text": "比如说有些大模型的话"
    },
    {
      "start": 8.4,
      "end": 11.200000000000001,
      "text": "它的上下文床口是会限制大小的"
    },
    {
      "start": 11.200000000000001,
      "end": 14.200000000000001,
      "text": "比如说限制1024可以"
    },
    {
      "start": 14.200000000000001,
      "end": 17.900000000000002,
      "text": "还有一些我们跟AI聊天的时候"
    },
    {
      "start": 17.900000000000002,
      "end": 19.7,
      "text": "这些聊天历史记录"
    },
    {
      "start": 19.7,
      "end": 21.7,
      "text": "怎么样来做些存储"
    },
    {
      "start": 21.7,
      "end": 24.5,
      "text": "这些都是我们在实际开发中遇到了一些问题"
    },
    {
      "start": 24.5,
      "end": 25.5,
      "text": "那么今天的话"
    },
    {
      "start": 25.5,
      "end": 27.3,
      "text": "我们就给大家来分享一下"
    },
    {
      "start": 27.3,
      "end": 29.3,
      "text": "消息管理还有聊天历史"
    },
    {
      "start": 29.400000000000002,
      "end": 31.2,
      "text": "怎么来处理"
    },
    {
      "start": 31.2,
      "end": 33.5,
      "text": "主要分一下几块来讲"
    },
    {
      "start": 33.5,
      "end": 34.8,
      "text": "首先我们会讲"
    },
    {
      "start": 34.8,
      "end": 38.2,
      "text": "这个消息在内存里面是怎么样做一个存储的"
    },
    {
      "start": 38.2,
      "end": 42.2,
      "text": "以及我们可以介入一些外部的一些数据库"
    },
    {
      "start": 42.2,
      "end": 44.6,
      "text": "比如说像Release"
    },
    {
      "start": 44.6,
      "end": 48.0,
      "text": "我们可以把消息持久化到Release里面去"
    },
    {
      "start": 48.0,
      "end": 51.8,
      "text": "然后如果说这个大模型对聊天的历史"
    },
    {
      "start": 51.8,
      "end": 53.0,
      "text": "有限制的话"
    },
    {
      "start": 53.0,
      "end": 56.400000000000006,
      "text": "我们要去修改聊天历史的一些记录"
    },
    {
      "start": 56.5,
      "end": 60.5,
      "text": "比如说只保留最近的这个诗条"
    },
    {
      "start": 60.5,
      "end": 62.8,
      "text": "做一些消息的一些采简"
    },
    {
      "start": 62.8,
      "end": 66.1,
      "text": "并且的话我们还可以针对本次聊天的话"
    },
    {
      "start": 66.1,
      "end": 68.3,
      "text": "我们可以让它做一些总结"
    },
    {
      "start": 68.3,
      "end": 71.1,
      "text": "就是针对我们上下文的一些这个总结"
    },
    {
      "start": 71.1,
      "end": 74.3,
      "text": "首先的话我们来讲这个消息存储在内存里面"
    },
    {
      "start": 74.3,
      "end": 75.7,
      "text": "怎么来实现"
    },
    {
      "start": 75.7,
      "end": 77.4,
      "text": "那么在这个狼致里面"
    },
    {
      "start": 77.4,
      "end": 80.3,
      "text": "就是它提供了一个类"
    },
    {
      "start": 80.3,
      "end": 83.1,
      "text": "叫ChartMessage History"
    },
    {
      "start": 83.1,
      "end": 84.2,
      "text": "从这个类的名字"
    },
    {
      "start": 84.2,
      "end": 85.7,
      "text": "我们就可以看得出来"
    },
    {
      "start": 85.8,
      "end": 90.10000000000001,
      "text": "这个是专门用来做这个聊天消息的一个历史"
    },
    {
      "start": 90.10000000000001,
      "end": 93.10000000000001,
      "text": "一个这个存储的这么一个类"
    },
    {
      "start": 93.60000000000001,
      "end": 99.10000000000001,
      "text": "那这个类的话就是它可以在我们去运行整个狼致"
    },
    {
      "start": 99.10000000000001,
      "end": 100.60000000000001,
      "text": "上下文调用的时候"
    },
    {
      "start": 100.60000000000001,
      "end": 104.10000000000001,
      "text": "它可以去传递一些这样的一个参数"
    },
    {
      "start": 104.10000000000001,
      "end": 107.60000000000001,
      "text": "比如说我们一般做一个聊天机器人的话"
    },
    {
      "start": 107.60000000000001,
      "end": 110.2,
      "text": "会有一个这个随身ID的有概念"
    },
    {
      "start": 110.2,
      "end": 111.80000000000001,
      "text": "比如说我们用那个"
    },
    {
      "start": 111.89999999999999,
      "end": 113.2,
      "text": "这个ChartGPT"
    },
    {
      "start": 113.2,
      "end": 115.2,
      "text": "大家去这个聊天的时候"
    },
    {
      "start": 115.2,
      "end": 117.0,
      "text": "首先会新增一个会化"
    },
    {
      "start": 117.0,
      "end": 119.8,
      "text": "并且的话我们可以对这个会化做一个自定义"
    },
    {
      "start": 119.8,
      "end": 123.39999999999999,
      "text": "比如说我这个是问一些技术方面的一些问题的"
    },
    {
      "start": 123.39999999999999,
      "end": 125.89999999999999,
      "text": "那这个会化名的话可能叫技术"
    },
    {
      "start": 125.89999999999999,
      "end": 127.8,
      "text": "当然它一个会化ID"
    },
    {
      "start": 127.8,
      "end": 130.5,
      "text": "比如说你想聊一些这个"
    },
    {
      "start": 130.5,
      "end": 134.2,
      "text": "比如说一些文章生成类的"
    },
    {
      "start": 134.2,
      "end": 135.8,
      "text": "那它也是一个会化"
    },
    {
      "start": 135.8,
      "end": 138.4,
      "text": "也就是说我们会有一个多个会化管理"
    },
    {
      "start": 138.4,
      "end": 139.7,
      "text": "那这个多个会化管理"
    },
    {
      "start": 139.70000000000002,
      "end": 142.50000000000003,
      "text": "我们在狼致里面怎么来实现呢"
    },
    {
      "start": 142.50000000000003,
      "end": 146.70000000000002,
      "text": "我给大家来到这个Chart里面给大家来讲一下"
    },
    {
      "start": 146.70000000000002,
      "end": 153.50000000000003,
      "text": "首先我们要做一个机域整个一个狼致"
    },
    {
      "start": 153.50000000000003,
      "end": 156.9,
      "text": "还要做一个历史消息的一个管理的话"
    },
    {
      "start": 156.9,
      "end": 160.70000000000002,
      "text": "首先我们来讲什么要把这个消息历史的话"
    },
    {
      "start": 160.70000000000002,
      "end": 162.10000000000002,
      "text": "存在类传里面去"
    },
    {
      "start": 162.10000000000002,
      "end": 163.10000000000002,
      "text": "那首先第一步的话"
    },
    {
      "start": 163.10000000000002,
      "end": 164.70000000000002,
      "text": "我们要去引入一些包"
    },
    {
      "start": 164.70000000000002,
      "end": 165.70000000000002,
      "text": "引入一些包"
    },
    {
      "start": 165.70000000000002,
      "end": 167.4,
      "text": "那么除了"
    },
    {
      "start": 167.4,
      "end": 168.9,
      "text": "因为我们要聊天的话"
    },
    {
      "start": 168.9,
      "end": 172.3,
      "text": "那你最基本的你的引入一些像提示是模板"
    },
    {
      "start": 172.3,
      "end": 176.3,
      "text": "还有一些这个传递消息的一些站位服的一些这个库"
    },
    {
      "start": 176.3,
      "end": 179.1,
      "text": "还有包括Chart Open AR的一些库"
    },
    {
      "start": 179.1,
      "end": 181.70000000000002,
      "text": "包括这里面最关键就是什么呢"
    },
    {
      "start": 181.70000000000002,
      "end": 183.9,
      "text": "叫这个引入"
    },
    {
      "start": 183.9,
      "end": 189.1,
      "text": "这个聊天聊天消息历史记录"
    },
    {
      "start": 189.1,
      "end": 191.5,
      "text": "要把这个库给它引入进来"
    },
    {
      "start": 191.5,
      "end": 195.3,
      "text": "这样的话我们就可以把这个消息存储在这个里面"
    },
    {
      "start": 195.3,
      "end": 198.70000000000002,
      "text": "然后的话就是它有一个基础的一个类"
    },
    {
      "start": 198.70000000000002,
      "end": 201.5,
      "text": "叫这个BaseChart Ness history"
    },
    {
      "start": 201.5,
      "end": 202.9,
      "text": "这个我们等一下来说"
    },
    {
      "start": 202.9,
      "end": 206.10000000000002,
      "text": "还有包括像这个Renable history"
    },
    {
      "start": 206.10000000000002,
      "end": 210.5,
      "text": "这个是因为Langiton它整个它里面是定义的一套"
    },
    {
      "start": 210.5,
      "end": 212.10000000000002,
      "text": "叫Renable Interface"
    },
    {
      "start": 212.10000000000002,
      "end": 214.9,
      "text": "就是这个叫可运行的这个接口"
    },
    {
      "start": 214.9,
      "end": 218.5,
      "text": "它整个链式掉用的话都是基于Renable去实现的"
    },
    {
      "start": 218.5,
      "end": 221.70000000000002,
      "text": "所以说它这个Renable的话它也有一套"
    },
    {
      "start": 221.70000000000002,
      "end": 224.9,
      "text": "这个History传递的一个机制"
    },
    {
      "start": 224.9,
      "end": 227.5,
      "text": "那首先的话我们要去聊天的话"
    },
    {
      "start": 227.5,
      "end": 229.9,
      "text": "你得干嘛呢就是叫"
    },
    {
      "start": 231.3,
      "end": 235.5,
      "text": "我们叫创建一个什么呢"
    },
    {
      "start": 236.5,
      "end": 239.70000000000002,
      "text": "聊天提示词"
    },
    {
      "start": 239.70000000000002,
      "end": 242.5,
      "text": "我版就是你得有一个这个"
    },
    {
      "start": 243.70000000000002,
      "end": 246.9,
      "text": "提示词模板说白了就是要跟AI去溝通的时候"
    },
    {
      "start": 246.9,
      "end": 250.5,
      "text": "咱们先得把那个一些问候语"
    },
    {
      "start": 250.5,
      "end": 252.9,
      "text": "就是比如说给AI做一个定性"
    },
    {
      "start": 252.9,
      "end": 255.5,
      "text": "你告诉AI你是一个什么什么住手"
    },
    {
      "start": 255.5,
      "end": 258.5,
      "text": "就是你的一个sponse反悔的话"
    },
    {
      "start": 258.5,
      "end": 260.9,
      "text": "大概是二十个字或者更少"
    },
    {
      "start": 260.9,
      "end": 263.5,
      "text": "就是给AI做一个要求"
    },
    {
      "start": 263.5,
      "end": 265.9,
      "text": "然后的话这里有一个关键的点就是什么呢"
    },
    {
      "start": 265.9,
      "end": 271.5,
      "text": "就是这里是做那个这个历史消息"
    },
    {
      "start": 273.3,
      "end": 274.9,
      "text": "战位服"
    },
    {
      "start": 274.9,
      "end": 278.9,
      "text": "就是这个我们通过传入一个Message Place Holder"
    },
    {
      "start": 278.9,
      "end": 281.7,
      "text": "就是一个编辆名的方式"
    },
    {
      "start": 281.7,
      "end": 283.9,
      "text": "我们可以把每次聊天的这个历史的话"
    },
    {
      "start": 283.9,
      "end": 285.3,
      "text": "往这个里面传上去"
    },
    {
      "start": 285.3,
      "end": 287.9,
      "text": "也就是说我们每次聊完天是吧"
    },
    {
      "start": 287.9,
      "end": 289.3,
      "text": "深层的那个记录的话"
    },
    {
      "start": 289.3,
      "end": 291.7,
      "text": "我们可以把它塞到提示词模板里面去"
    },
    {
      "start": 291.7,
      "end": 294.3,
      "text": "给它做一些这个出使化的一个消息"
    },
    {
      "start": 294.3,
      "end": 296.7,
      "text": "就给你跟AI出使化聊天的时候"
    },
    {
      "start": 296.7,
      "end": 298.7,
      "text": "你可以给它塞点消息进去"
    },
    {
      "start": 298.7,
      "end": 300.3,
      "text": "然后是这个Human"
    },
    {
      "start": 300.3,
      "end": 303.9,
      "text": "就是这个是我们用户的这个提示词"
    },
    {
      "start": 303.9,
      "end": 306.09999999999997,
      "text": "这个是一个引譜的编辆做一个战位"
    },
    {
      "start": 306.09999999999997,
      "end": 308.09999999999997,
      "text": "等一下的话我们要传这个参数"
    },
    {
      "start": 308.09999999999997,
      "end": 310.5,
      "text": "然后下面的话就是这个"
    },
    {
      "start": 310.5,
      "end": 314.7,
      "text": "下的OpenAI的这么一个这个打模型调用"
    },
    {
      "start": 314.7,
      "end": 317.18,
      "text": "那这里的话就要用到浪称里面的"
    },
    {
      "start": 317.18,
      "end": 319.3,
      "text": "甚至调用用这个数线"
    },
    {
      "start": 319.3,
      "end": 320.7,
      "text": "这两个东西连接起来"
    },
    {
      "start": 320.7,
      "end": 325.7,
      "text": "就是再有这个提示词的这个打模型调用"
    },
    {
      "start": 325.7,
      "end": 327.7,
      "text": "然后这里我们会要订一个字点"
    },
    {
      "start": 327.7,
      "end": 329.3,
      "text": "叫什么叫Store"
    },
    {
      "start": 329.3,
      "end": 334.5,
      "text": "这个是什么用来存储这个会化"
    },
    {
      "start": 334.5,
      "end": 336.5,
      "text": "会化"
    },
    {
      "start": 336.5,
      "end": 339.5,
      "text": "就是还可以说叫这个会化"
    },
    {
      "start": 340.3,
      "end": 341.3,
      "text": "历史记录"
    },
    {
      "start": 341.3,
      "end": 343.9,
      "text": "我要是用来存储这个会化历史记录"
    },
    {
      "start": 343.9,
      "end": 345.1,
      "text": "它是一个字点内心的"
    },
    {
      "start": 345.1,
      "end": 347.1,
      "text": "因为我们等一下的话要根据这个"
    },
    {
      "start": 347.1,
      "end": 350.9,
      "text": "随身ID往里面去存这个History"
    },
    {
      "start": 350.9,
      "end": 352.5,
      "text": "就是这个消息列表"
    },
    {
      "start": 352.5,
      "end": 354.7,
      "text": "然后下面我们要订一个韩术"
    },
    {
      "start": 354.7,
      "end": 356.5,
      "text": "叫什么呢"
    },
    {
      "start": 356.5,
      "end": 358.5,
      "text": "这里"
    },
    {
      "start": 358.5,
      "end": 365.5,
      "text": "订议一个这个过去会化历史的什么呢"
    },
    {
      "start": 365.5,
      "end": 366.9,
      "text": "韩术"
    },
    {
      "start": 366.90000000000003,
      "end": 368.90000000000003,
      "text": "传入什么呢"
    },
    {
      "start": 368.90000000000003,
      "end": 371.70000000000005,
      "text": "录参是什么呢"
    },
    {
      "start": 371.70000000000005,
      "end": 373.90000000000003,
      "text": "这个 C 寻"
    },
    {
      "start": 373.90000000000003,
      "end": 376.90000000000003,
      "text": "ID"
    },
    {
      "start": 376.90000000000003,
      "end": 377.90000000000003,
      "text": "ID"
    },
    {
      "start": 377.90000000000003,
      "end": 381.90000000000003,
      "text": "然后结果是什么是反悔一个会化历史记录"
    },
    {
      "start": 381.90000000000003,
      "end": 383.70000000000005,
      "text": "也就是我们通过 C 寻 ID"
    },
    {
      "start": 383.70000000000005,
      "end": 386.50000000000006,
      "text": "要把这个会化记录给反悔回去"
    },
    {
      "start": 386.50000000000006,
      "end": 387.90000000000003,
      "text": "这里它做了一个判断"
    },
    {
      "start": 387.90000000000003,
      "end": 390.70000000000005,
      "text": "如果说这个 C 寻 ID不在这个里面的话"
    },
    {
      "start": 390.70000000000005,
      "end": 393.50000000000006,
      "text": "也就是之前没有存储过这个会化"
    },
    {
      "start": 393.50000000000006,
      "end": 394.50000000000006,
      "text": "你是记录的话"
    },
    {
      "start": 394.50000000000006,
      "end": 396.70000000000005,
      "text": "我们要给它做一个什么"
    },
    {
      "start": 396.7,
      "end": 397.7,
      "text": "要编辆处置化"
    },
    {
      "start": 397.7,
      "end": 399.7,
      "text": "就是往这个字点里面"
    },
    {
      "start": 399.7,
      "end": 401.3,
      "text": "把这个 C 寻 History"
    },
    {
      "start": 401.3,
      "end": 402.7,
      "text": "就是这个会化ID"
    },
    {
      "start": 402.7,
      "end": 403.9,
      "text": "对你的这个"
    },
    {
      "start": 403.9,
      "end": 406.09999999999997,
      "text": "Cartmess History做一个处置化"
    },
    {
      "start": 406.09999999999997,
      "end": 407.09999999999997,
      "text": "然后后面"
    },
    {
      "start": 407.09999999999997,
      "end": 409.59999999999997,
      "text": "我们会往这个 C 寻里面不断地去"
    },
    {
      "start": 409.59999999999997,
      "end": 412.09999999999997,
      "text": "更新地史会化记录"
    },
    {
      "start": 412.09999999999997,
      "end": 414.09999999999997,
      "text": "后面的话我们就能意识什么呢"
    },
    {
      "start": 414.09999999999997,
      "end": 415.5,
      "text": "给取到它"
    },
    {
      "start": 415.5,
      "end": 419.09999999999997,
      "text": "这个它是实现了叫一个 base"
    },
    {
      "start": 419.09999999999997,
      "end": 420.9,
      "text": "Cartmess History"
    },
    {
      "start": 420.9,
      "end": 422.09999999999997,
      "text": "这个是浪称"
    },
    {
      "start": 422.09999999999997,
      "end": 424.2,
      "text": "这个官方给我们提供的一个"
    },
    {
      "start": 424.2,
      "end": 425.8,
      "text": "叫相当于一个借口"
    },
    {
      "start": 425.8,
      "end": 428.8,
      "text": "就是叫 baseCartmess History"
    },
    {
      "start": 428.8,
      "end": 430.2,
      "text": "相当于我们这里的话"
    },
    {
      "start": 430.2,
      "end": 433.0,
      "text": "相当于它给它做了一个方法的一个寄程"
    },
    {
      "start": 433.0,
      "end": 435.0,
      "text": "就是我们后面聊天所有的消息的话"
    },
    {
      "start": 435.0,
      "end": 437.0,
      "text": "都会被塞到这个里面去"
    },
    {
      "start": 437.0,
      "end": 439.4,
      "text": "通过这种方式的话"
    },
    {
      "start": 439.4,
      "end": 441.59999999999997,
      "text": "我们每次的这个消息记录的话"
    },
    {
      "start": 441.59999999999997,
      "end": 444.8,
      "text": "都可以往这个字点里面去做一个什么获取"
    },
    {
      "start": 444.8,
      "end": 447.8,
      "text": "就相当于我们去拿到浪称上下文"
    },
    {
      "start": 447.8,
      "end": 449.8,
      "text": "它的聊天率是记录"
    },
    {
      "start": 449.8,
      "end": 452.5,
      "text": "就是第一步我们要有一个韩处"
    },
    {
      "start": 452.5,
      "end": 453.9,
      "text": "然后第二步的话"
    },
    {
      "start": 453.9,
      "end": 455.1,
      "text": "这里就非常关键了"
    },
    {
      "start": 455.1,
      "end": 455.9,
      "text": "这是什么呢"
    },
    {
      "start": 455.9,
      "end": 458.3,
      "text": "就是这个是"
    },
    {
      "start": 459.3,
      "end": 463.7,
      "text": "这个叫创建一个代会化历史记录的运行记"
    },
    {
      "start": 463.7,
      "end": 466.3,
      "text": "这个就是相当于是一个 renable"
    },
    {
      "start": 466.3,
      "end": 467.5,
      "text": "这个叫 renable"
    },
    {
      "start": 467.5,
      "end": 470.1,
      "text": "这个就是浪称里面定义的一套"
    },
    {
      "start": 470.1,
      "end": 472.5,
      "text": "它电视调用"
    },
    {
      "start": 472.5,
      "end": 474.7,
      "text": "整个电视调用里面什么呢"
    },
    {
      "start": 474.7,
      "end": 475.9,
      "text": "它需要一个 renable"
    },
    {
      "start": 475.9,
      "end": 479.1,
      "text": "也就是说我们需要带的这个"
    },
    {
      "start": 479.1,
      "end": 481.7,
      "text": "它其实是一个 renable"
    },
    {
      "start": 481.7,
      "end": 483.7,
      "text": "因为什么呢"
    },
    {
      "start": 483.7,
      "end": 486.09999999999997,
      "text": "它整个去聊天的时候"
    },
    {
      "start": 486.09999999999997,
      "end": 488.5,
      "text": "就是它需要什么呢"
    },
    {
      "start": 488.5,
      "end": 490.3,
      "text": "需要一个什么"
    },
    {
      "start": 490.3,
      "end": 492.3,
      "text": "会化记录的一个获取"
    },
    {
      "start": 492.3,
      "end": 494.8,
      "text": "也就是它去掉大模型的时候"
    },
    {
      "start": 494.8,
      "end": 497.3,
      "text": "它要把历史记录网里面塞进去的话"
    },
    {
      "start": 497.3,
      "end": 500.09999999999997,
      "text": "首先你要把我们刚刚定义的这个"
    },
    {
      "start": 500.09999999999997,
      "end": 503.09999999999997,
      "text": "获取会化历史记录的这个韩数什么呢"
    },
    {
      "start": 503.09999999999997,
      "end": 505.3,
      "text": "往这个里面做一个传闭"
    },
    {
      "start": 505.3,
      "end": 508.3,
      "text": "然后它也可以定一个音色"
    },
    {
      "start": 508.3,
      "end": 510.1,
      "text": "这个 input 卖设计 P"
    },
    {
      "start": 510.1,
      "end": 511.7,
      "text": "就是我们的提示词"
    },
    {
      "start": 511.7,
      "end": 513.7,
      "text": "你可以往里面去传"
    },
    {
      "start": 513.7,
      "end": 515.7,
      "text": "相当于它定一个"
    },
    {
      "start": 515.7,
      "end": 518.7,
      "text": "这样的一个 renable这个韩数"
    },
    {
      "start": 518.7,
      "end": 520.1,
      "text": "那你可以什么呢"
    },
    {
      "start": 520.1,
      "end": 523.1,
      "text": "往里面去传这个会化历史记录"
    },
    {
      "start": 523.1,
      "end": 524.1,
      "text": "你看有两个参数"
    },
    {
      "start": 524.1,
      "end": 526.7,
      "text": "一个叫 input 一个叫 history"
    },
    {
      "start": 526.7,
      "end": 528.0,
      "text": "然后还有一个 renable"
    },
    {
      "start": 528.0,
      "end": 531.9,
      "text": "renable的话就是咱们刚刚上面定义的浪称的那个"
    },
    {
      "start": 531.9,
      "end": 532.9,
      "text": "整个趁实调用"
    },
    {
      "start": 532.9,
      "end": 534.7,
      "text": "就是把提示词模板"
    },
    {
      "start": 534.7,
      "end": 536.5,
      "text": "还有这个大模型调用"
    },
    {
      "start": 536.5,
      "end": 538.1,
      "text": "整个把它变成一个"
    },
    {
      "start": 538.1,
      "end": 540.1,
      "text": "欠就是一个 renable"
    },
    {
      "start": 540.1,
      "end": 543.1,
      "text": "那这里的话就是浪这个 renable"
    },
    {
      "start": 543.1,
      "end": 544.7,
      "text": "具有什么呢"
    },
    {
      "start": 544.7,
      "end": 548.5,
      "text": "传闭历史消息记录的这么一个"
    },
    {
      "start": 548.5,
      "end": 551.5,
      "text": "实现就是一个 renable with messy history"
    },
    {
      "start": 551.5,
      "end": 553.5,
      "text": "就做这么一个目的"
    },
    {
      "start": 553.5,
      "end": 555.8000000000001,
      "text": "然后这里干嘛呢"
    },
    {
      "start": 555.8000000000001,
      "end": 559.3000000000001,
      "text": "这里就是调用"
    },
    {
      "start": 559.3000000000001,
      "end": 562.1,
      "text": "这里就是这个调用"
    },
    {
      "start": 562.1,
      "end": 562.9,
      "text": "什么呢"
    },
    {
      "start": 562.9,
      "end": 565.7,
      "text": "调用这个 renable"
    },
    {
      "start": 565.7,
      "end": 567.3000000000001,
      "text": "就是執行"
    },
    {
      "start": 567.3000000000001,
      "end": 569.1,
      "text": "就是让这个 renable執行"
    },
    {
      "start": 569.1,
      "end": 573.7,
      "text": "就是这个代历史会化记录"
    },
    {
      "start": 573.7,
      "end": 577.3000000000001,
      "text": "调用代会化历史记录 renable"
    },
    {
      "start": 577.3000000000001,
      "end": 578.5,
      "text": "那執行"
    },
    {
      "start": 578.5,
      "end": 579.9000000000001,
      "text": "執行的话首先干嘛呢"
    },
    {
      "start": 579.9000000000001,
      "end": 581.9000000000001,
      "text": "我们需要传入一个什么呢"
    },
    {
      "start": 581.9000000000001,
      "end": 582.9000000000001,
      "text": "别的体"
    },
    {
      "start": 582.9000000000001,
      "end": 585.9000000000001,
      "text": "就是一个大模型的一个冷立的一个定义"
    },
    {
      "start": 585.9000000000001,
      "end": 588.7,
      "text": "因为我们要问一个语权的一个问题"
    },
    {
      "start": 588.7,
      "end": 590.5,
      "text": "这个数学领域的一个问题"
    },
    {
      "start": 590.5,
      "end": 591.7,
      "text": "所以说我们这个"
    },
    {
      "start": 591.7,
      "end": 594.1,
      "text": "别的体的话要传一个 mass"
    },
    {
      "start": 594.1,
      "end": 595.7,
      "text": "这个的话就是我们上面"
    },
    {
      "start": 595.7,
      "end": 596.9,
      "text": "就是大家看"
    },
    {
      "start": 596.9,
      "end": 598.5,
      "text": "就上面我们那个系统提示"
    },
    {
      "start": 598.5,
      "end": 599.7,
      "text": "给AI定系的时候"
    },
    {
      "start": 599.7,
      "end": 600.7,
      "text": "这里也定义的一个"
    },
    {
      "start": 600.7,
      "end": 602.3000000000001,
      "text": "变量的一个站位符"
    },
    {
      "start": 602.3000000000001,
      "end": 603.9,
      "text": "这个就是用来什么呢"
    },
    {
      "start": 603.9,
      "end": 604.9,
      "text": "给AI定系的"
    },
    {
      "start": 604.9,
      "end": 606.1,
      "text": "就是也是一个助手"
    },
    {
      "start": 606.1,
      "end": 608.9,
      "text": "然后你什么人力比较突出"
    },
    {
      "start": 608.9,
      "end": 611.3000000000001,
      "text": "这里我们要把这个参数传进去"
    },
    {
      "start": 611.3000000000001,
      "end": 612.9,
      "text": "让我们传的是一个数学的"
    },
    {
      "start": 612.9,
      "end": 614.5,
      "text": "一个这样的一个单词"
    },
    {
      "start": 614.5,
      "end": 615.5,
      "text": "然后这里"
    },
    {
      "start": 615.5,
      "end": 617.3000000000001,
      "text": "我们要传入一个config"
    },
    {
      "start": 617.3000000000001,
      "end": 618.5,
      "text": "这个config的话"
    },
    {
      "start": 618.5,
      "end": 620.26,
      "text": "就是用来传递我们的一个"
    },
    {
      "start": 620.26,
      "end": 621.7,
      "text": "Sation ID"
    },
    {
      "start": 621.7,
      "end": 622.7,
      "text": "这个地方"
    },
    {
      "start": 622.9000000000001,
      "end": 624.9000000000001,
      "text": "这里我们上面有一个海述"
    },
    {
      "start": 624.9000000000001,
      "end": 626.7,
      "text": "这里定义的一个什么呢"
    },
    {
      "start": 626.7,
      "end": 627.9000000000001,
      "text": "一个这个"
    },
    {
      "start": 627.9000000000001,
      "end": 628.7,
      "text": "Sation ID"
    },
    {
      "start": 628.7,
      "end": 629.3000000000001,
      "text": "对不对"
    },
    {
      "start": 629.3000000000001,
      "end": 630.3000000000001,
      "text": "这个Sation ID"
    },
    {
      "start": 630.3000000000001,
      "end": 631.6,
      "text": "我们在哪里传进来的呢"
    },
    {
      "start": 631.6,
      "end": 632.9000000000001,
      "text": "大家看在这里"
    },
    {
      "start": 632.9000000000001,
      "end": 634.3000000000001,
      "text": "而定一个config"
    },
    {
      "start": 634.3000000000001,
      "end": 635.5,
      "text": "这个是个固定协法"
    },
    {
      "start": 635.5,
      "end": 637.3000000000001,
      "text": "然后这里面提供了一套规范"
    },
    {
      "start": 637.3000000000001,
      "end": 639.3000000000001,
      "text": "就是你可以往里面传一个"
    },
    {
      "start": 639.3000000000001,
      "end": 641.7,
      "text": "config的这么一个字点"
    },
    {
      "start": 641.7,
      "end": 644.3000000000001,
      "text": "它字点里面有一个configable"
    },
    {
      "start": 644.3000000000001,
      "end": 646.3000000000001,
      "text": "然后这里里面要带一个"
    },
    {
      "start": 646.3000000000001,
      "end": 647.1,
      "text": "还要带一个字点"
    },
    {
      "start": 647.1,
      "end": 647.9000000000001,
      "text": "一个Sation ID"
    },
    {
      "start": 647.9000000000001,
      "end": 649.7,
      "text": "然后我们的这个Sation ID"
    },
    {
      "start": 649.7,
      "end": 651.7,
      "text": "叫ABC 123"
    },
    {
      "start": 651.7,
      "end": 652.9000000000001,
      "text": "这样的话就是什么呢"
    },
    {
      "start": 652.9000000000001,
      "end": 654.1,
      "text": "整个一调用的时候"
    },
    {
      "start": 654.1,
      "end": 656.1,
      "text": "我们就会带上这个Sation ID"
    },
    {
      "start": 656.1,
      "end": 657.7,
      "text": "搭上这个Sation ID"
    },
    {
      "start": 657.7,
      "end": 659.1,
      "text": "我们可以做一个实验"
    },
    {
      "start": 659.1,
      "end": 660.3000000000001,
      "text": "就是你看"
    },
    {
      "start": 660.3000000000001,
      "end": 662.9000000000001,
      "text": "怎么证明它是在同一个会晃里面呢"
    },
    {
      "start": 662.9000000000001,
      "end": 664.5,
      "text": "我下面问一个问题"
    },
    {
      "start": 664.5,
      "end": 665.5,
      "text": "就是大家看"
    },
    {
      "start": 665.5,
      "end": 666.1,
      "text": "这里"
    },
    {
      "start": 666.1,
      "end": 667.1,
      "text": "大家看"
    },
    {
      "start": 667.1,
      "end": 668.1,
      "text": "我这里"
    },
    {
      "start": 668.1,
      "end": 669.5,
      "text": "这是第一次调用"
    },
    {
      "start": 669.5,
      "end": 670.7,
      "text": "调用这个"
    },
    {
      "start": 670.7,
      "end": 671.1,
      "text": "Brandable"
    },
    {
      "start": 671.1,
      "end": 671.9000000000001,
      "text": "让它执行"
    },
    {
      "start": 671.9000000000001,
      "end": 672.7,
      "text": "调用大模型"
    },
    {
      "start": 672.7,
      "end": 673.5,
      "text": "问这么一个问题"
    },
    {
      "start": 673.5,
      "end": 674.7,
      "text": "然后传个Sation ID"
    },
    {
      "start": 674.7,
      "end": 675.9000000000001,
      "text": "是ABC 123"
    },
    {
      "start": 675.9000000000001,
      "end": 676.9000000000001,
      "text": "然后我第二次"
    },
    {
      "start": 676.9000000000001,
      "end": 677.9000000000001,
      "text": "我又调用"
    },
    {
      "start": 677.9000000000001,
      "end": 679.1,
      "text": "跟上面的参数一模一样"
    },
    {
      "start": 679.1,
      "end": 680.9000000000001,
      "text": "然后会晃ID也是一样的"
    },
    {
      "start": 680.9,
      "end": 682.5,
      "text": "我问它什么"
    },
    {
      "start": 682.5,
      "end": 685.5,
      "text": "如果说它是在同一个会晃里面的话"
    },
    {
      "start": 685.5,
      "end": 687.3,
      "text": "它的话"
    },
    {
      "start": 687.3,
      "end": 689.3,
      "text": "它就知道我上面问了一个什么问题"
    },
    {
      "start": 689.3,
      "end": 690.6999999999999,
      "text": "问了一个语选的问题"
    },
    {
      "start": 690.6999999999999,
      "end": 693.1,
      "text": "如果说你不是在一个Sation ID里面的话"
    },
    {
      "start": 693.1,
      "end": 694.9,
      "text": "像我们做了会晃隔离"
    },
    {
      "start": 694.9,
      "end": 695.9,
      "text": "整个聊天历史"
    },
    {
      "start": 695.9,
      "end": 697.3,
      "text": "它是看不到的"
    },
    {
      "start": 697.3,
      "end": 698.6999999999999,
      "text": "它就是在另外一个会晃里面"
    },
    {
      "start": 698.6999999999999,
      "end": 700.5,
      "text": "你看我下面一个调用的话"
    },
    {
      "start": 700.5,
      "end": 702.5,
      "text": "我用的是DF234"
    },
    {
      "start": 702.5,
      "end": 703.6999999999999,
      "text": "正常的话"
    },
    {
      "start": 703.6999999999999,
      "end": 706.5,
      "text": "这个是能够回答出来语选什么的"
    },
    {
      "start": 706.5,
      "end": 707.9,
      "text": "最后一句输出的话"
    },
    {
      "start": 707.9,
      "end": 708.9,
      "text": "应该达不出来"
    },
    {
      "start": 708.9,
      "end": 711.3,
      "text": "这是我们有预期的一个效果"
    },
    {
      "start": 711.3,
      "end": 712.3,
      "text": "来让它跑一下"
    },
    {
      "start": 721.3,
      "end": 722.3,
      "text": "大家看"
    },
    {
      "start": 722.3,
      "end": 723.1,
      "text": "那么第一个"
    },
    {
      "start": 723.1,
      "end": 724.6999999999999,
      "text": "你看我问语选是什么意思"
    },
    {
      "start": 724.6999999999999,
      "end": 725.5,
      "text": "这是第一句话"
    },
    {
      "start": 725.5,
      "end": 726.5,
      "text": "就是输出来的"
    },
    {
      "start": 726.5,
      "end": 727.9,
      "text": "然后第二次"
    },
    {
      "start": 727.9,
      "end": 729.1,
      "text": "你看"
    },
    {
      "start": 729.1,
      "end": 730.1,
      "text": "这里"
    },
    {
      "start": 730.1,
      "end": 731.5,
      "text": "我问什么的时候"
    },
    {
      "start": 731.5,
      "end": 734.3,
      "text": "它至少知道我上一个问的什么"
    },
    {
      "start": 734.3,
      "end": 736.1,
      "text": "是一个语选的一个问题"
    },
    {
      "start": 736.1,
      "end": 737.9,
      "text": "但是我到第三个"
    },
    {
      "start": 737.9,
      "end": 739.9,
      "text": "如果说换了一个Sation ID的话"
    },
    {
      "start": 739.9,
      "end": 741.3,
      "text": "这里大家看"
    },
    {
      "start": 741.3,
      "end": 742.3,
      "text": "它就是"
    },
    {
      "start": 742.3,
      "end": 743.3,
      "text": "它就不知道了"
    },
    {
      "start": 743.3,
      "end": 745.3,
      "text": "你看我没有明白你的问题"
    },
    {
      "start": 745.3,
      "end": 748.6999999999999,
      "text": "这里就是因为它没有共享一个Sation"
    },
    {
      "start": 748.6999999999999,
      "end": 749.9,
      "text": "不在一个会晃里面"
    },
    {
      "start": 749.9,
      "end": 752.6999999999999,
      "text": "所以说那个历史聊天记录它没有"
    },
    {
      "start": 752.6999999999999,
      "end": 754.3,
      "text": "这样的话它就不记得了"
    },
    {
      "start": 754.3,
      "end": 756.5,
      "text": "这个就是叫记忆的一个功能"
    },
    {
      "start": 756.5,
      "end": 758.6999999999999,
      "text": "就是我们这个消息的一个传递"
    },
    {
      "start": 758.6999999999999,
      "end": 759.5,
      "text": "OK"
    },
    {
      "start": 759.5,
      "end": 760.6999999999999,
      "text": "就是第一个例子"
    },
    {
      "start": 760.6999999999999,
      "end": 762.54,
      "text": "就是我们要把这个消息"
    },
    {
      "start": 762.54,
      "end": 764.3,
      "text": "存住在这个类存里面"
    },
    {
      "start": 764.3,
      "end": 766.1,
      "text": "然后我们来看下一个例子"
    },
    {
      "start": 766.1,
      "end": 768.9,
      "text": "叫配置会晃维替"
    },
    {
      "start": 768.9,
      "end": 770.7,
      "text": "就是上面那个例子的话"
    },
    {
      "start": 770.7,
      "end": 771.9,
      "text": "它有一个问题"
    },
    {
      "start": 771.9,
      "end": 774.3000000000001,
      "text": "就是它没有以用户ID"
    },
    {
      "start": 774.3000000000001,
      "end": 775.9,
      "text": "上面就是一个Sation ID"
    },
    {
      "start": 775.9,
      "end": 777.3000000000001,
      "text": "其实"
    },
    {
      "start": 777.3000000000001,
      "end": 779.7,
      "text": "我们做一个聊天机器人用的话"
    },
    {
      "start": 779.7,
      "end": 780.3000000000001,
      "text": "正常来说"
    },
    {
      "start": 780.3000000000001,
      "end": 782.3000000000001,
      "text": "我们还要一个用户的一个感觉"
    },
    {
      "start": 782.3000000000001,
      "end": 783.9,
      "text": "就是我们要有一个用户ID"
    },
    {
      "start": 783.9,
      "end": 785.3000000000001,
      "text": "加上这个会晃ID"
    },
    {
      "start": 785.3000000000001,
      "end": 786.9,
      "text": "才能作为一个"
    },
    {
      "start": 786.9,
      "end": 787.7,
      "text": "维健"
    },
    {
      "start": 787.7,
      "end": 790.3000000000001,
      "text": "就是每个客户都有独立的一个会晃"
    },
    {
      "start": 790.3000000000001,
      "end": 793.1,
      "text": "就是我们是要以用户为为度"
    },
    {
      "start": 793.1,
      "end": 794.9,
      "text": "用户下面有多个会晃"
    },
    {
      "start": 794.9,
      "end": 795.9,
      "text": "应该是这种方式"
    },
    {
      "start": 796.1,
      "end": 798.3000000000001,
      "text": "类似于这种"
    },
    {
      "start": 798.3000000000001,
      "end": 800.1,
      "text": "我们怎么应该实现的"
    },
    {
      "start": 800.1,
      "end": 801.9,
      "text": "我们来看一下"
    },
    {
      "start": 801.9,
      "end": 805.1,
      "text": "这种方式的话就是"
    },
    {
      "start": 805.1,
      "end": 807.1,
      "text": "我们来看这个例子"
    },
    {
      "start": 807.1,
      "end": 810.5,
      "text": "然后上面一些包的一个引路的话"
    },
    {
      "start": 810.5,
      "end": 811.7,
      "text": "都比较类似"
    },
    {
      "start": 811.7,
      "end": 813.9,
      "text": "只是说多引路了一个东西"
    },
    {
      "start": 813.9,
      "end": 814.9,
      "text": "叫什么呢"
    },
    {
      "start": 814.9,
      "end": 816.9,
      "text": "叫一个叫"
    },
    {
      "start": 816.9,
      "end": 819.9,
      "text": "就是可以配置引路"
    },
    {
      "start": 820.9,
      "end": 823.9,
      "text": "引路浪称的什么呢"
    },
    {
      "start": 823.9,
      "end": 825.9,
      "text": "Renable history"
    },
    {
      "start": 825.9,
      "end": 827.9,
      "text": "就是一个"
    },
    {
      "start": 827.9,
      "end": 828.9,
      "text": "引路它的一个配置的"
    },
    {
      "start": 828.9,
      "end": 830.9,
      "text": "一个自断的一个"
    },
    {
      "start": 830.9,
      "end": 831.9,
      "text": "神明的一个类"
    },
    {
      "start": 831.9,
      "end": 834.9,
      "text": "引路浪称"
    },
    {
      "start": 834.9,
      "end": 835.9,
      "text": "这个"
    },
    {
      "start": 835.9,
      "end": 838.9,
      "text": "浪称的一个配置"
    },
    {
      "start": 838.9,
      "end": 841.9,
      "text": "就是一个针对 history"
    },
    {
      "start": 841.9,
      "end": 843.9,
      "text": "就是整个会晃的一个配置"
    },
    {
      "start": 843.9,
      "end": 845.9,
      "text": "就多了这么一个东西"
    },
    {
      "start": 845.9,
      "end": 846.9,
      "text": "然后这里的话"
    },
    {
      "start": 846.9,
      "end": 848.9,
      "text": "上面讲过了都是一样的"
    },
    {
      "start": 848.9,
      "end": 849.9,
      "text": "然后在这里"
    },
    {
      "start": 849.9,
      "end": 851.9,
      "text": "来看"
    },
    {
      "start": 851.9,
      "end": 853.9,
      "text": "我们之前那个例子的话"
    },
    {
      "start": 853.9,
      "end": 854.9,
      "text": "首先"
    },
    {
      "start": 854.9,
      "end": 856.9,
      "text": "你看这时候它就是一个 situation"
    },
    {
      "start": 856.9,
      "end": 857.9,
      "text": "如果说我们还要加一个"
    },
    {
      "start": 857.9,
      "end": 859.9,
      "text": "用户的一个赶紧进去做"
    },
    {
      "start": 859.9,
      "end": 860.9,
      "text": "怎么办呢"
    },
    {
      "start": 860.9,
      "end": 861.9,
      "text": "在这里"
    },
    {
      "start": 861.9,
      "end": 863.9,
      "text": "在还是"
    },
    {
      "start": 863.9,
      "end": 864.9,
      "text": "进程刚刚那个"
    },
    {
      "start": 864.9,
      "end": 866.9,
      "text": "based history"
    },
    {
      "start": 866.9,
      "end": 868.9,
      "text": "然后在这里写两个参数"
    },
    {
      "start": 868.9,
      "end": 869.9,
      "text": "一个叫 UID"
    },
    {
      "start": 869.9,
      "end": 872.9,
      "text": "第2个叫 Convocation ID"
    },
    {
      "start": 872.9,
      "end": 873.9,
      "text": "然后干嘛呢"
    },
    {
      "start": 873.9,
      "end": 875.9,
      "text": "然后在这个"
    },
    {
      "start": 875.9,
      "end": 877.9,
      "text": "获取的方式这里"
    },
    {
      "start": 877.9,
      "end": 878.9,
      "text": "两个参数都传续"
    },
    {
      "start": 878.9,
      "end": 879.9,
      "text": "就是这个字点"
    },
    {
      "start": 879.9,
      "end": 881.9,
      "text": "获取的这个方式的话"
    },
    {
      "start": 881.9,
      "end": 882.9,
      "text": "大家看"
    },
    {
      "start": 882.9,
      "end": 883.9,
      "text": "之前的那个写法"
    },
    {
      "start": 883.9,
      "end": 884.9,
      "text": "是store里面"
    },
    {
      "start": 884.9,
      "end": 885.9,
      "text": "就是传一个参数"
    },
    {
      "start": 885.9,
      "end": 886.9,
      "text": "现在的话"
    },
    {
      "start": 886.9,
      "end": 887.9,
      "text": "现在与store里面"
    },
    {
      "start": 887.9,
      "end": 888.9,
      "text": "要传两个参数"
    },
    {
      "start": 888.9,
      "end": 889.9,
      "text": "一个 UID"
    },
    {
      "start": 889.9,
      "end": 890.9,
      "text": "一个 Convocation ID"
    },
    {
      "start": 890.9,
      "end": 892.9,
      "text": "就是我们根据"
    },
    {
      "start": 892.9,
      "end": 893.9,
      "text": "这两个参数组合去"
    },
    {
      "start": 893.9,
      "end": 895.9,
      "text": "整个聊天机室"
    },
    {
      "start": 895.9,
      "end": 896.9,
      "text": "记录会晃"
    },
    {
      "start": 896.9,
      "end": 899.9,
      "text": "然后在下面这个地方"
    },
    {
      "start": 899.9,
      "end": 901.9,
      "text": "同样的还是"
    },
    {
      "start": 901.9,
      "end": 903.9,
      "text": "要创建这么一个Renable"
    },
    {
      "start": 903.9,
      "end": 905.9,
      "text": "based message history"
    },
    {
      "start": 905.9,
      "end": 906.9,
      "text": "这么一个实力"
    },
    {
      "start": 906.9,
      "end": 908.9,
      "text": "但是但是"
    },
    {
      "start": 908.9,
      "end": 909.9,
      "text": "它里面的参数"
    },
    {
      "start": 909.9,
      "end": 910.9,
      "text": "会多了一些"
    },
    {
      "start": 910.9,
      "end": 912.9,
      "text": "前几个参数都是一样的"
    },
    {
      "start": 912.9,
      "end": 913.9,
      "text": "就是一个是Renable"
    },
    {
      "start": 913.9,
      "end": 915.9,
      "text": "我要调大模型"
    },
    {
      "start": 915.9,
      "end": 916.9,
      "text": "整个一个Channel"
    },
    {
      "start": 916.9,
      "end": 917.9,
      "text": "一个调用"
    },
    {
      "start": 917.9,
      "end": 918.9,
      "text": "然后下面的话"
    },
    {
      "start": 918.9,
      "end": 919.9,
      "text": "是这个"
    },
    {
      "start": 919.9,
      "end": 920.9,
      "text": "刚刚那个"
    },
    {
      "start": 920.9,
      "end": 922.9,
      "text": "或许Sation的Haceory的一个韩数"
    },
    {
      "start": 922.9,
      "end": 924.9,
      "text": "然后下面就是这个"
    },
    {
      "start": 924.9,
      "end": 925.9,
      "text": "提示是参数"
    },
    {
      "start": 925.9,
      "end": 927.9,
      "text": "这个是两天机物参数"
    },
    {
      "start": 927.9,
      "end": 929.9,
      "text": "然后下面就不一样了"
    },
    {
      "start": 929.9,
      "end": 931.9,
      "text": "下面传络的是一个"
    },
    {
      "start": 931.9,
      "end": 933.9,
      "text": "Haceory Factory"
    },
    {
      "start": 933.9,
      "end": 934.9,
      "text": "这个Config"
    },
    {
      "start": 934.9,
      "end": 935.9,
      "text": "然后这里的话"
    },
    {
      "start": 935.9,
      "end": 936.9,
      "text": "就是我们刚刚那个"
    },
    {
      "start": 936.9,
      "end": 937.9,
      "text": "引入的一个什么呢"
    },
    {
      "start": 937.9,
      "end": 941.9,
      "text": "叫Configable BuildSpec"
    },
    {
      "start": 941.9,
      "end": 944.9,
      "text": "这个的话就是可以什么呢"
    },
    {
      "start": 944.9,
      "end": 946.9,
      "text": "支持我们刺定义的传续"
    },
    {
      "start": 946.9,
      "end": 947.9,
      "text": "这个参数"
    },
    {
      "start": 947.9,
      "end": 949.9,
      "text": "比如说你大家看啊"
    },
    {
      "start": 949.9,
      "end": 951.9,
      "text": "就是我相当于我"
    },
    {
      "start": 951.9,
      "end": 952.9,
      "text": "默认的话"
    },
    {
      "start": 952.9,
      "end": 954.9,
      "text": "这个会化聊天历史的话"
    },
    {
      "start": 954.9,
      "end": 956.9,
      "text": "它默认"
    },
    {
      "start": 956.9,
      "end": 957.9,
      "text": "标准化的话"
    },
    {
      "start": 957.9,
      "end": 958.9,
      "text": "就是支持一个Sation ID"
    },
    {
      "start": 958.9,
      "end": 959.9,
      "text": "做一个传络的"
    },
    {
      "start": 959.9,
      "end": 960.9,
      "text": "那你现在要"
    },
    {
      "start": 960.9,
      "end": 962.9,
      "text": "传两个参数进去的话"
    },
    {
      "start": 962.9,
      "end": 963.9,
      "text": "这里我们就要做一个"
    },
    {
      "start": 963.9,
      "end": 964.9,
      "text": "配置的一个拓展"
    },
    {
      "start": 964.9,
      "end": 966.9,
      "text": "我们要把两个参数展进去"
    },
    {
      "start": 966.9,
      "end": 967.9,
      "text": "第一个参数就是我们的"
    },
    {
      "start": 967.9,
      "end": 968.9,
      "text": "UID"
    },
    {
      "start": 968.9,
      "end": 969.9,
      "text": "UID"
    },
    {
      "start": 969.9,
      "end": 971.9,
      "text": "然后这个参数叫Convociation ID"
    },
    {
      "start": 971.9,
      "end": 973.9,
      "text": "这个其实就是刚刚那个"
    },
    {
      "start": 973.9,
      "end": 974.9,
      "text": "Cation ID"
    },
    {
      "start": 974.9,
      "end": 976.9,
      "text": "我们把这个两个参数加好之后"
    },
    {
      "start": 976.9,
      "end": 978.9,
      "text": "它"
    },
    {
      "start": 978.9,
      "end": 980.9,
      "text": "获取这个历史聊天记录"
    },
    {
      "start": 980.9,
      "end": 982.9,
      "text": "它刚出实化的一个配置"
    },
    {
      "start": 982.9,
      "end": 985.9,
      "text": "现在就被我们做了一个拓展了"
    },
    {
      "start": 985.9,
      "end": 986.9,
      "text": "把这两个东西"
    },
    {
      "start": 986.9,
      "end": 987.9,
      "text": "加进去之后"
    },
    {
      "start": 987.9,
      "end": 988.9,
      "text": "大家看啊"
    },
    {
      "start": 988.9,
      "end": 990.9,
      "text": "跟刚刚那个调用一样"
    },
    {
      "start": 990.9,
      "end": 991.9,
      "text": "还是用这个"
    },
    {
      "start": 991.9,
      "end": 993.9,
      "text": "with method history这个Randable"
    },
    {
      "start": 993.9,
      "end": 994.9,
      "text": "去调用"
    },
    {
      "start": 994.9,
      "end": 995.9,
      "text": "调用"
    },
    {
      "start": 995.9,
      "end": 996.9,
      "text": "但是区别在什么呢"
    },
    {
      "start": 996.9,
      "end": 997.9,
      "text": "刚刚那个"
    },
    {
      "start": 997.9,
      "end": 998.9,
      "text": "configure"
    },
    {
      "start": 998.9,
      "end": 1000.9,
      "text": "它传络是一个"
    },
    {
      "start": 1000.9,
      "end": 1001.9,
      "text": "Cation ID这个参数"
    },
    {
      "start": 1001.9,
      "end": 1002.9,
      "text": "然后这里的话"
    },
    {
      "start": 1002.9,
      "end": 1004.9,
      "text": "它传络的是两个参数"
    },
    {
      "start": 1004.9,
      "end": 1005.9,
      "text": "一个要用户"
    },
    {
      "start": 1005.9,
      "end": 1007.9,
      "text": "ID一个叫Convociation ID"
    },
    {
      "start": 1007.9,
      "end": 1008.9,
      "text": "然后"
    },
    {
      "start": 1008.9,
      "end": 1010.9,
      "text": "就是调用的时候"
    },
    {
      "start": 1010.9,
      "end": 1012.9,
      "text": "就是把这个参数给改了"
    },
    {
      "start": 1012.9,
      "end": 1014.9,
      "text": "就是加两个参数"
    },
    {
      "start": 1014.9,
      "end": 1015.9,
      "text": "所以说"
    },
    {
      "start": 1015.9,
      "end": 1017.9,
      "text": "这个例子的一个关键点就是"
    },
    {
      "start": 1017.9,
      "end": 1019.9,
      "text": "在于大家要知道"
    },
    {
      "start": 1019.9,
      "end": 1020.9,
      "text": "我们去获取历史"
    },
    {
      "start": 1020.9,
      "end": 1021.9,
      "text": "会花记录的时候"
    },
    {
      "start": 1021.9,
      "end": 1022.9,
      "text": "这个是支持"
    },
    {
      "start": 1022.9,
      "end": 1023.9,
      "text": "动态拓展的"
    },
    {
      "start": 1023.9,
      "end": 1025.9,
      "text": "就是它不止是可以"
    },
    {
      "start": 1025.9,
      "end": 1026.9,
      "text": "根据这两个参数"
    },
    {
      "start": 1026.9,
      "end": 1028.9,
      "text": "你还可以拓展出来更多的参数"
    },
    {
      "start": 1028.9,
      "end": 1029.9,
      "text": "关键点就是在于"
    },
    {
      "start": 1029.9,
      "end": 1031.9,
      "text": "你再去重写这个"
    },
    {
      "start": 1031.9,
      "end": 1032.9,
      "text": "过去什么"
    },
    {
      "start": 1032.9,
      "end": 1033.9,
      "text": "Get a Station History"
    },
    {
      "start": 1033.9,
      "end": 1035.9,
      "text": "这个韩术的时候"
    },
    {
      "start": 1035.9,
      "end": 1037.9,
      "text": "你这里要对应的参数"
    },
    {
      "start": 1037.9,
      "end": 1039.9,
      "text": "跟下面对一对一好"
    },
    {
      "start": 1039.9,
      "end": 1040.9,
      "text": "就是你拓展几个参数"
    },
    {
      "start": 1040.9,
      "end": 1042.9,
      "text": "下面就要加几个参数"
    },
    {
      "start": 1042.9,
      "end": 1043.9,
      "text": "这个比较关键"
    },
    {
      "start": 1043.9,
      "end": 1044.9,
      "text": "然后下面的例子"
    },
    {
      "start": 1044.9,
      "end": 1045.9,
      "text": "就是一样的"
    },
    {
      "start": 1045.9,
      "end": 1046.9,
      "text": "就是调用多次"
    },
    {
      "start": 1046.9,
      "end": 1048.9,
      "text": "看到这个历史聊天记录"
    },
    {
      "start": 1048.9,
      "end": 1049.9,
      "text": "那么记记住"
    },
    {
      "start": 1049.9,
      "end": 1051.9,
      "text": "这个其实是一个意思"
    },
    {
      "start": 1052.9,
      "end": 1054.9,
      "text": "然后这里大家看我问的"
    },
    {
      "start": 1054.9,
      "end": 1055.9,
      "text": "你看于旋是什么意思"
    },
    {
      "start": 1055.9,
      "end": 1056.9,
      "text": "第一个"
    },
    {
      "start": 1056.9,
      "end": 1058.9,
      "text": "我是在同一个用户下面"
    },
    {
      "start": 1058.9,
      "end": 1060.9,
      "text": "同一个会花 ID"
    },
    {
      "start": 1060.9,
      "end": 1062.9,
      "text": "所以大家看到这两个问题"
    },
    {
      "start": 1062.9,
      "end": 1063.9,
      "text": "你看前两句话"
    },
    {
      "start": 1063.9,
      "end": 1064.9,
      "text": "什么呢"
    },
    {
      "start": 1064.9,
      "end": 1066.9,
      "text": "它都能记住"
    },
    {
      "start": 1066.9,
      "end": 1068.9,
      "text": "我问的是于旋这个问题"
    },
    {
      "start": 1068.9,
      "end": 1069.9,
      "text": "到最后一个输出的时候"
    },
    {
      "start": 1069.9,
      "end": 1070.9,
      "text": "它就不知道了"
    },
    {
      "start": 1070.9,
      "end": 1071.9,
      "text": "因为我把这个"
    },
    {
      "start": 1071.9,
      "end": 1073.9,
      "text": "虽然是同一个用户下面"
    },
    {
      "start": 1073.9,
      "end": 1075.9,
      "text": "但是我看我随时会花 ID不一样"
    },
    {
      "start": 1075.9,
      "end": 1076.9,
      "text": "所以说它"
    },
    {
      "start": 1076.9,
      "end": 1078.9,
      "text": "正常来说它也不记得"
    },
    {
      "start": 1078.9,
      "end": 1081.9,
      "text": "所以说这个是这个例子的一个意思"
    },
    {
      "start": 1081.9,
      "end": 1084.9,
      "text": "叫配置会花为一件"
    },
    {
      "start": 1084.9,
      "end": 1085.9,
      "text": "然后的话"
    },
    {
      "start": 1085.9,
      "end": 1087.9,
      "text": "我们再来说这个消息十九话"
    },
    {
      "start": 1087.9,
      "end": 1088.9,
      "text": "我们前面"
    },
    {
      "start": 1088.9,
      "end": 1090.9,
      "text": "刚刚给大家讲的这个"
    },
    {
      "start": 1090.9,
      "end": 1092.9,
      "text": "消息历史"
    },
    {
      "start": 1092.9,
      "end": 1093.9,
      "text": "尘主的话"
    },
    {
      "start": 1093.9,
      "end": 1094.9,
      "text": "都是尘主在内存里面的"
    },
    {
      "start": 1094.9,
      "end": 1096.9,
      "text": "但是我们如果说"
    },
    {
      "start": 1096.9,
      "end": 1097.9,
      "text": "想要做一个什么呢"
    },
    {
      "start": 1097.9,
      "end": 1099.9,
      "text": "就是这个"
    },
    {
      "start": 1099.9,
      "end": 1100.9,
      "text": "历史聊天记录"
    },
    {
      "start": 1100.9,
      "end": 1101.9,
      "text": "用户"
    },
    {
      "start": 1101.9,
      "end": 1103.9,
      "text": "我换了一个设备登入之后"
    },
    {
      "start": 1103.9,
      "end": 1105.9,
      "text": "我希望干嘛呢"
    },
    {
      "start": 1105.9,
      "end": 1107.9,
      "text": "我可以同样加在之前的历史记录"
    },
    {
      "start": 1107.9,
      "end": 1109.9,
      "text": "就我不希望存在内存里面"
    },
    {
      "start": 1109.9,
      "end": 1110.9,
      "text": "我希望可以多设备"
    },
    {
      "start": 1110.9,
      "end": 1111.9,
      "text": "去做一个共享"
    },
    {
      "start": 1111.9,
      "end": 1113.9,
      "text": "那这时候怎么办呢"
    },
    {
      "start": 1113.9,
      "end": 1115.9,
      "text": "这时候大家可以干嘛呢"
    },
    {
      "start": 1115.9,
      "end": 1116.9,
      "text": "把这个"
    },
    {
      "start": 1116.9,
      "end": 1119.9,
      "text": "你可以存在 RIDIS 没去"
    },
    {
      "start": 1119.9,
      "end": 1121.9,
      "text": "就是这个我们可以存在 RIDIS 呢"
    },
    {
      "start": 1121.9,
      "end": 1125.9,
      "text": "那这个存在 RIDIS 里面的话"
    },
    {
      "start": 1125.9,
      "end": 1127.9,
      "text": "大家首先得啟动一个 RIDIS"
    },
    {
      "start": 1127.9,
      "end": 1129.9,
      "text": "如果说你是 Linux 系统的话"
    },
    {
      "start": 1129.9,
      "end": 1131.9,
      "text": "或者说你有一个"
    },
    {
      "start": 1131.9,
      "end": 1132.9,
      "text": "Linux 服务器的话"
    },
    {
      "start": 1132.9,
      "end": 1134.9,
      "text": "大家可以用遭合的方式"
    },
    {
      "start": 1134.9,
      "end": 1136.9,
      "text": "把这个 RIDIS 给大家装一下"
    },
    {
      "start": 1136.9,
      "end": 1138.9,
      "text": "那我现在我用的是 Windows"
    },
    {
      "start": 1138.9,
      "end": 1140.9,
      "text": "这里给它啟动用的一个"
    },
    {
      "start": 1140.9,
      "end": 1142.9,
      "text": "Windows 版本的这个 RIDIS"
    },
    {
      "start": 1142.9,
      "end": 1144.9,
      "text": "这个已经啟动好了"
    },
    {
      "start": 1144.9,
      "end": 1145.9,
      "text": "然后并且的话"
    },
    {
      "start": 1145.9,
      "end": 1147.9,
      "text": "我们有一个 RIDIS 客户单工具"
    },
    {
      "start": 1147.9,
      "end": 1148.9,
      "text": "给大家可以看到"
    },
    {
      "start": 1148.9,
      "end": 1150.9,
      "text": "我们目前是新典型成功的"
    },
    {
      "start": 1150.9,
      "end": 1151.9,
      "text": "目前这个里面是没有"
    },
    {
      "start": 1151.9,
      "end": 1153.9,
      "text": "存出任何数据的"
    },
    {
      "start": 1153.9,
      "end": 1154.9,
      "text": "那我们现在"
    },
    {
      "start": 1154.9,
      "end": 1156.9,
      "text": "给大家讲的一个例子就是干嘛呢"
    },
    {
      "start": 1156.9,
      "end": 1158.9,
      "text": "我需要把这个聊天第十级录"
    },
    {
      "start": 1158.9,
      "end": 1160.9,
      "text": "存在 RIDIS 然后我等一下"
    },
    {
      "start": 1160.9,
      "end": 1161.9,
      "text": "通过这个东西"
    },
    {
      "start": 1161.9,
      "end": 1163.9,
      "text": "我可以看到这个里面"
    },
    {
      "start": 1163.9,
      "end": 1165.9,
      "text": "存出的一些数据的一些结构"
    },
    {
      "start": 1165.9,
      "end": 1168.9,
      "text": "那我又要通过这个"
    },
    {
      "start": 1168.9,
      "end": 1170.9,
      "text": "浪称这个聊天记录"
    },
    {
      "start": 1170.9,
      "end": 1172.9,
      "text": "存在 RIDIS 里面去的话"
    },
    {
      "start": 1172.9,
      "end": 1174.9,
      "text": "大家可以通过一个叫"
    },
    {
      "start": 1174.9,
      "end": 1176.9,
      "text": "RIDIS Charter Master History"
    },
    {
      "start": 1176.9,
      "end": 1178.9,
      "text": "这个的话就是浪称里面"
    },
    {
      "start": 1178.9,
      "end": 1179.9,
      "text": "给你提供一个 RIDIS"
    },
    {
      "start": 1179.9,
      "end": 1182.9,
      "text": "转门用来做消息存储的一个"
    },
    {
      "start": 1182.9,
      "end": 1183.9,
      "text": "这样的一个例"
    },
    {
      "start": 1183.9,
      "end": 1185.9,
      "text": "我们需要把大家移入进来"
    },
    {
      "start": 1185.9,
      "end": 1187.9,
      "text": "我们讲课"
    },
    {
      "start": 1187.9,
      "end": 1189.9,
      "text": "这些课件资料的话"
    },
    {
      "start": 1189.9,
      "end": 1192.9,
      "text": "大家可以在评论区回复666"
    },
    {
      "start": 1192.9,
      "end": 1193.9,
      "text": "然后去领取"
    },
    {
      "start": 1194.9,
      "end": 1196.9,
      "text": "这个这里的话"
    },
    {
      "start": 1196.9,
      "end": 1197.9,
      "text": "就是大家看"
    },
    {
      "start": 1197.9,
      "end": 1200.9,
      "text": "我们首先"
    },
    {
      "start": 1200.9,
      "end": 1202.9,
      "text": "我们回到这个拍畅里面"
    },
    {
      "start": 1202.9,
      "end": 1203.9,
      "text": "给大家来讲"
    },
    {
      "start": 1203.9,
      "end": 1204.9,
      "text": "关于存在什么"
    },
    {
      "start": 1204.9,
      "end": 1205.9,
      "text": "存这个 RIDIS 数据库呢"
    },
    {
      "start": 1205.9,
      "end": 1206.9,
      "text": "来"
    },
    {
      "start": 1206.9,
      "end": 1207.9,
      "text": "来看一下"
    },
    {
      "start": 1207.9,
      "end": 1209.9,
      "text": "然后前面大部分"
    },
    {
      "start": 1209.9,
      "end": 1210.9,
      "text": "引入的库的话"
    },
    {
      "start": 1210.9,
      "end": 1212.9,
      "text": "跟我们前面讲的那个例子差不多"
    },
    {
      "start": 1212.9,
      "end": 1214.9,
      "text": "然后就多了一个东西"
    },
    {
      "start": 1214.9,
      "end": 1215.9,
      "text": "就是什么呢"
    },
    {
      "start": 1215.9,
      "end": 1216.9,
      "text": "这里"
    },
    {
      "start": 1216.9,
      "end": 1218.9,
      "text": "引入"
    },
    {
      "start": 1218.9,
      "end": 1220.9,
      "text": "RIDIS"
    },
    {
      "start": 1220.9,
      "end": 1221.9,
      "text": "这个"
    },
    {
      "start": 1223.9,
      "end": 1225.9,
      "text": "聊天"
    },
    {
      "start": 1225.9,
      "end": 1227.9,
      "text": "消息存储"
    },
    {
      "start": 1227.9,
      "end": 1232.9,
      "text": "就是这个类"
    },
    {
      "start": 1232.9,
      "end": 1235.9,
      "text": "就是我们需要把这个类给的引入进来"
    },
    {
      "start": 1235.9,
      "end": 1236.9,
      "text": "有了这个之后"
    },
    {
      "start": 1236.9,
      "end": 1238.9,
      "text": "我们就会往里面去存这个消息"
    },
    {
      "start": 1238.9,
      "end": 1239.9,
      "text": "历史记录了"
    },
    {
      "start": 1239.9,
      "end": 1241.9,
      "text": "我们之前给大家看的那个"
    },
    {
      "start": 1241.9,
      "end": 1242.9,
      "text": "Memory"
    },
    {
      "start": 1242.9,
      "end": 1243.9,
      "text": "聊天历史记录的话"
    },
    {
      "start": 1243.9,
      "end": 1244.9,
      "text": "大家看"
    },
    {
      "start": 1244.9,
      "end": 1246.9,
      "text": "这个其实是一个什么呢"
    },
    {
      "start": 1246.9,
      "end": 1247.9,
      "text": "之前那个"
    },
    {
      "start": 1247.9,
      "end": 1249.9,
      "text": "是一个 Charter Master History"
    },
    {
      "start": 1249.9,
      "end": 1250.9,
      "text": "这个是存类存的"
    },
    {
      "start": 1250.9,
      "end": 1251.9,
      "text": "那现在"
    },
    {
      "start": 1251.9,
      "end": 1252.9,
      "text": "大家看"
    },
    {
      "start": 1252.9,
      "end": 1255.9,
      "text": "我们是一个叫 RIDIS Charter Master History"
    },
    {
      "start": 1255.9,
      "end": 1257.9,
      "text": "就是把它存在 RIDIS 没去了"
    },
    {
      "start": 1257.9,
      "end": 1259.9,
      "text": "然后这个上面"
    },
    {
      "start": 1259.9,
      "end": 1262.9,
      "text": "给大家看到的这个一些方法的话"
    },
    {
      "start": 1262.9,
      "end": 1263.9,
      "text": "跟刚刚那个是一模一样的"
    },
    {
      "start": 1263.9,
      "end": 1264.9,
      "text": "这个都是类似的"
    },
    {
      "start": 1264.9,
      "end": 1265.9,
      "text": "然后这里"
    },
    {
      "start": 1265.9,
      "end": 1266.9,
      "text": "下面"
    },
    {
      "start": 1266.9,
      "end": 1268.9,
      "text": "我们首先你要转那个"
    },
    {
      "start": 1268.9,
      "end": 1269.9,
      "text": "存在 RIDIS"
    },
    {
      "start": 1269.9,
      "end": 1271.9,
      "text": "你首先点定一个 RIDIS的点点"
    },
    {
      "start": 1271.9,
      "end": 1272.9,
      "text": "那个连接地址对不对"
    },
    {
      "start": 1272.9,
      "end": 1273.9,
      "text": "因为我"
    },
    {
      "start": 1273.9,
      "end": 1274.9,
      "text": "不属于这个本地环境"
    },
    {
      "start": 1274.9,
      "end": 1276.9,
      "text": "所以我是採用 RIDIS"
    },
    {
      "start": 1276.9,
      "end": 1277.9,
      "text": "这个"
    },
    {
      "start": 1277.9,
      "end": 1278.9,
      "text": "这个"
    },
    {
      "start": 1278.9,
      "end": 1280.9,
      "text": "Locost"
    },
    {
      "start": 1280.9,
      "end": 1282.9,
      "text": "然后连接到它的一个 Db0"
    },
    {
      "start": 1282.9,
      "end": 1283.9,
      "text": "对应在这里"
    },
    {
      "start": 1283.9,
      "end": 1285.9,
      "text": "它是一个 Db0 的优数去库"
    },
    {
      "start": 1285.9,
      "end": 1286.9,
      "text": "OK"
    },
    {
      "start": 1286.9,
      "end": 1287.9,
      "text": "然后的话"
    },
    {
      "start": 1287.9,
      "end": 1288.9,
      "text": "就是在下面"
    },
    {
      "start": 1288.9,
      "end": 1289.9,
      "text": "我们要"
    },
    {
      "start": 1289.9,
      "end": 1290.9,
      "text": "说明有什么呢"
    },
    {
      "start": 1290.9,
      "end": 1292.9,
      "text": "叫 Gate Master History"
    },
    {
      "start": 1292.9,
      "end": 1294.9,
      "text": "跟我们之前讲的那个粒子一样"
    },
    {
      "start": 1294.9,
      "end": 1295.9,
      "text": "之前那个是"
    },
    {
      "start": 1295.9,
      "end": 1297.9,
      "text": "去继承那个什么"
    },
    {
      "start": 1297.9,
      "end": 1299.9,
      "text": "Based Charter Master History"
    },
    {
      "start": 1299.9,
      "end": 1300.9,
      "text": "现在"
    },
    {
      "start": 1300.9,
      "end": 1301.9,
      "text": "因为我们不存类存了"
    },
    {
      "start": 1301.9,
      "end": 1302.9,
      "text": "要存类的粒子了"
    },
    {
      "start": 1302.9,
      "end": 1303.9,
      "text": "所以这里要改成"
    },
    {
      "start": 1303.9,
      "end": 1306.9,
      "text": "叫 RIDIS Charter Master History"
    },
    {
      "start": 1306.9,
      "end": 1307.9,
      "text": "然后"
    },
    {
      "start": 1307.9,
      "end": 1308.9,
      "text": "这里大家看"
    },
    {
      "start": 1308.9,
      "end": 1309.9,
      "text": "就是我们反回的话"
    },
    {
      "start": 1309.9,
      "end": 1310.9,
      "text": "是一个什么呢"
    },
    {
      "start": 1310.9,
      "end": 1313.9,
      "text": "反回的是一个 RIDIS Charter Master History"
    },
    {
      "start": 1313.9,
      "end": 1315.9,
      "text": "就不是之前那个啥类"
    },
    {
      "start": 1315.9,
      "end": 1317.9,
      "text": "不是之前那个 Store"
    },
    {
      "start": 1317.9,
      "end": 1318.9,
      "text": "之前那个 Store"
    },
    {
      "start": 1318.9,
      "end": 1319.9,
      "text": "是我们自己订的"
    },
    {
      "start": 1319.9,
      "end": 1321.9,
      "text": "那现在这个东西干嘛呢"
    },
    {
      "start": 1321.9,
      "end": 1323.9,
      "text": "其实是不需要的"
    },
    {
      "start": 1323.9,
      "end": 1324.9,
      "text": "不需要了"
    },
    {
      "start": 1324.9,
      "end": 1325.9,
      "text": "那现在直接反回一个"
    },
    {
      "start": 1325.9,
      "end": 1327.9,
      "text": "RIDIS Charter Master History"
    },
    {
      "start": 1327.9,
      "end": 1328.9,
      "text": "然后"
    },
    {
      "start": 1328.9,
      "end": 1330.9,
      "text": "把这个 C 上来丽网里面一传"
    },
    {
      "start": 1330.9,
      "end": 1331.9,
      "text": "就可以"
    },
    {
      "start": 1331.9,
      "end": 1332.9,
      "text": "然后把这个地址传进去"
    },
    {
      "start": 1332.9,
      "end": 1333.9,
      "text": "这样的话"
    },
    {
      "start": 1333.9,
      "end": 1335.9,
      "text": "浪称就会帮你"
    },
    {
      "start": 1335.9,
      "end": 1337.9,
      "text": "做 RIDIS的一个消息的一个存储"
    },
    {
      "start": 1337.9,
      "end": 1340.9,
      "text": "然后"
    },
    {
      "start": 1340.9,
      "end": 1342.9,
      "text": "同样的是"
    },
    {
      "start": 1342.9,
      "end": 1344.9,
      "text": "我们要有一个 RIDIS Master History"
    },
    {
      "start": 1344.9,
      "end": 1346.9,
      "text": "这个是浪称里面的规范"
    },
    {
      "start": 1346.9,
      "end": 1348.9,
      "text": "要有一个 RIDIS 支持"
    },
    {
      "start": 1348.9,
      "end": 1349.9,
      "text": "调用大模型"
    },
    {
      "start": 1349.9,
      "end": 1350.9,
      "text": "以及传递消息"
    },
    {
      "start": 1350.9,
      "end": 1351.9,
      "text": "这是基督的一个 RIDIS"
    },
    {
      "start": 1351.9,
      "end": 1353.9,
      "text": "然后我们把这相关的传说"
    },
    {
      "start": 1353.9,
      "end": 1354.9,
      "text": "给它传进去"
    },
    {
      "start": 1354.9,
      "end": 1355.9,
      "text": "好"
    },
    {
      "start": 1355.9,
      "end": 1356.9,
      "text": "传进去"
    },
    {
      "start": 1356.9,
      "end": 1358.9,
      "text": "这个跟之前讲的那个一模一样"
    },
    {
      "start": 1358.9,
      "end": 1359.9,
      "text": "然后调用的时候"
    },
    {
      "start": 1359.9,
      "end": 1360.9,
      "text": "这里也是一样的"
    },
    {
      "start": 1360.9,
      "end": 1362.9,
      "text": "调用方式一模一样"
    },
    {
      "start": 1362.9,
      "end": 1365.9,
      "text": "只有过去消息的方式"
    },
    {
      "start": 1365.9,
      "end": 1366.9,
      "text": "这个要变一下"
    },
    {
      "start": 1366.9,
      "end": 1368.9,
      "text": "其他的其实方法都是一模一样"
    },
    {
      "start": 1368.9,
      "end": 1369.9,
      "text": "没什么去的"
    },
    {
      "start": 1369.9,
      "end": 1370.9,
      "text": "好"
    },
    {
      "start": 1370.9,
      "end": 1372.9,
      "text": "那我们同样下面做一个例子"
    },
    {
      "start": 1372.9,
      "end": 1373.9,
      "text": "就是我们前两个"
    },
    {
      "start": 1373.9,
      "end": 1375.9,
      "text": "调用都是在一个会话里面"
    },
    {
      "start": 1375.9,
      "end": 1377.9,
      "text": "如果说它能够"
    },
    {
      "start": 1377.9,
      "end": 1380.9,
      "text": "给我们之前的效果一样的话"
    },
    {
      "start": 1380.9,
      "end": 1381.9,
      "text": "说明这个消息"
    },
    {
      "start": 1381.9,
      "end": 1382.9,
      "text": "已经存在 RIDIS里面去了"
    },
    {
      "start": 1382.9,
      "end": 1383.9,
      "text": "如果说不对的话"
    },
    {
      "start": 1383.9,
      "end": 1385.9,
      "text": "说明就先存了有问题"
    },
    {
      "start": 1385.9,
      "end": 1386.9,
      "text": "我们来跑一下"
    },
    {
      "start": 1386.9,
      "end": 1387.9,
      "text": "然后等一下看一下"
    },
    {
      "start": 1387.9,
      "end": 1388.9,
      "text": "RIDIS里面也没数据"
    },
    {
      "start": 1390.9,
      "end": 1391.9,
      "text": "好"
    },
    {
      "start": 1391.9,
      "end": 1392.9,
      "text": "看一下结果"
    },
    {
      "start": 1392.9,
      "end": 1393.9,
      "text": "大家看"
    },
    {
      "start": 1393.9,
      "end": 1394.9,
      "text": "第一个结果出来了"
    },
    {
      "start": 1394.9,
      "end": 1395.9,
      "text": "没问题"
    },
    {
      "start": 1395.9,
      "end": 1396.9,
      "text": "然后第二个"
    },
    {
      "start": 1396.9,
      "end": 1397.9,
      "text": "它也出结果"
    },
    {
      "start": 1397.9,
      "end": 1398.9,
      "text": "虽然是个英文的"
    },
    {
      "start": 1398.9,
      "end": 1399.9,
      "text": "但是我们可以从过这个看得出来"
    },
    {
      "start": 1399.9,
      "end": 1400.9,
      "text": "扩散"
    },
    {
      "start": 1400.9,
      "end": 1402.9,
      "text": "就是它是一个"
    },
    {
      "start": 1402.9,
      "end": 1403.9,
      "text": "它也是语选"
    },
    {
      "start": 1403.9,
      "end": 1404.9,
      "text": "虽然它是一个英文的"
    },
    {
      "start": 1404.9,
      "end": 1405.9,
      "text": "但是没关系"
    },
    {
      "start": 1405.9,
      "end": 1406.9,
      "text": "它至少"
    },
    {
      "start": 1406.9,
      "end": 1407.9,
      "text": "记住了我之前回到一个问题"
    },
    {
      "start": 1407.9,
      "end": 1408.9,
      "text": "那下面的一个"
    },
    {
      "start": 1408.9,
      "end": 1410.9,
      "text": "就是它就不记得了"
    },
    {
      "start": 1410.9,
      "end": 1411.9,
      "text": "好"
    },
    {
      "start": 1411.9,
      "end": 1412.9,
      "text": "这个说明消息"
    },
    {
      "start": 1412.9,
      "end": 1413.9,
      "text": "已经成功的"
    },
    {
      "start": 1413.9,
      "end": 1414.9,
      "text": "存住到 RIDIS里面去了"
    },
    {
      "start": 1414.9,
      "end": 1415.9,
      "text": "来"
    },
    {
      "start": 1415.9,
      "end": 1416.9,
      "text": "我给大家看一下"
    },
    {
      "start": 1416.9,
      "end": 1417.9,
      "text": "大家看"
    },
    {
      "start": 1417.9,
      "end": 1418.9,
      "text": "这个会话里面"
    },
    {
      "start": 1418.9,
      "end": 1420.9,
      "text": "你看是不是多了两条这个记录"
    },
    {
      "start": 1420.9,
      "end": 1421.9,
      "text": "就是两个会话"
    },
    {
      "start": 1421.9,
      "end": 1422.9,
      "text": "一个会话叫 ABC23"
    },
    {
      "start": 1422.9,
      "end": 1424.9,
      "text": "第二个叫敌艳 DEF234"
    },
    {
      "start": 1424.9,
      "end": 1425.9,
      "text": "你看这个"
    },
    {
      "start": 1425.9,
      "end": 1427.38,
      "text": "ABC23里面"
    },
    {
      "start": 1427.38,
      "end": 1427.9,
      "text": "大家就可以看到"
    },
    {
      "start": 1427.9,
      "end": 1428.9,
      "text": "你看这个是我们"
    },
    {
      "start": 1428.9,
      "end": 1429.9,
      "text": "之前的聊天记录吧"
    },
    {
      "start": 1429.9,
      "end": 1430.9,
      "text": "你看这个里面有几 dag的有利"
    },
    {
      "start": 1430.9,
      "end": 1433.9,
      "text": "一个是我们用户的一个题 gehabt死"
    },
    {
      "start": 1433.9,
      "end": 1434.9,
      "text": "一个题了死"
    },
    {
      "start": 1434.9,
      "end": 1435.9,
      "text": "这个题了死"
    },
    {
      "start": 1435.9,
      "end": 1437.9,
      "text": "这里它用的是这个"
    },
    {
      "start": 1437.9,
      "end": 1438.9,
      "text": "应该是这个"
    },
    {
      "start": 1438.9,
      "end": 1440.9,
      "text": "Nue 的别码"
    },
    {
      "start": 1440.9,
      "end": 1442.9,
      "text": "有点不干嘛"
    },
    {
      "start": 1442.9,
      "end": 1443.9,
      "text": "那这个别码"
    },
    {
      "start": 1443.9,
      "end": 1444.9,
      "text": "大家看就是这个里面"
    },
    {
      "start": 1445.9,
      "end": 1447.9,
      "text": "它 issues 一个中文"
    },
    {
      "start": 1447.9,
      "end": 1449.9,
      "text": "但是应该做了软码"
    },
    {
      "start": 1449.9,
      "end": 1450.9,
      "text": "看不出来"
    },
    {
      "start": 1450.9,
      "end": 1457.9,
      "text": "我们看一下这个是用户提示词,然后这个是AF反围的,它都给它转了编码了,转了编码了,所以都看不出来"
    },
    {
      "start": 1457.9,
      "end": 1467.9,
      "text": "应该在这个里面,都有,这个是历史遥战机路,然后那个DEF其实也有,我刚那个ABC那个调用了两次嘛"
    },
    {
      "start": 1467.9,
      "end": 1477.9,
      "text": "是吧,有两段那个对话的消息嘛,然后DEF,其实就调用了一次,一次用户提示识,一次AI的反围,所以里面就两下记录"
    },
    {
      "start": 1478.9,
      "end": 1482.9,
      "text": "说明这个消息是可以正常的存置到DEF没去的,好"
    },
    {
      "start": 1484.9,
      "end": 1491.9,
      "text": "然后我们来说这个消息,然后如何去做一个管理呢,就是我们如果要去修改性消息的疫情"
    },
    {
      "start": 1491.9,
      "end": 1499.9,
      "text": "这个一般是做了什么场景呢,就是我们希望什么限制模型数据处理的一些数据量"
    },
    {
      "start": 1500.9,
      "end": 1507.9,
      "text": "首先,调完大模型,它是要付费的,就是你如果说加载过读的消息的话,对这个成本也是一个消耗"
    },
    {
      "start": 1507.9,
      "end": 1514.9,
      "text": "所以说我们跟大模型聊天的时候,我们可能希望它,比如说就存主最近的一些消息"
    },
    {
      "start": 1514.9,
      "end": 1519.9,
      "text": "比如说就前十条,是吧,前三条,比如说我们要对消息做一个采简"
    },
    {
      "start": 1519.9,
      "end": 1524.9,
      "text": "就不能说你跟它聊天聊了几个小时,里面有几万条消息,你都丢给大模型"
    },
    {
      "start": 1525.9,
      "end": 1532.9,
      "text": "投肯的消货是比较大的,所以说这个里面的话我们要做一些消息的一些采简"
    },
    {
      "start": 1532.9,
      "end": 1541.9,
      "text": "那怎么来采简呢,给大家看一下,我们来看一下消息的一个采简"
    },
    {
      "start": 1542.9,
      "end": 1554.9,
      "text": "这个例子,来大家看,首先,我往这个里面,我没认的,往哪里面塞了几条记录"
    },
    {
      "start": 1554.9,
      "end": 1565.9,
      "text": "然后下面会执行一个例子,什么例子呢,就是我只保留最近的几条例子记录,只保留最近的几条例子记录"
    },
    {
      "start": 1565.9,
      "end": 1572.9,
      "text": "然后我问一个问题的时候,我看它是不是有没有在保,就是什么呢,查清楚来,我先给它跑一下这个例子"
    },
    {
      "start": 1572.9,
      "end": 1583.9,
      "text": "比如说我问的一个问题是,我下午再打篮球,但是因为我们这个里面只保留了两条记录,只保留两条记录"
    },
    {
      "start": 1583.9,
      "end": 1591.9,
      "text": "两条记录,你看我问它这个历史消息的记录的时候,比如说我下午再打篮球"
    },
    {
      "start": 1592.9,
      "end": 1601.9,
      "text": "然后我下面这个消息是,就是我给它做了一个对话,首先我给它问叫Jack,你好什么什么什么,我今天很开心"
    },
    {
      "start": 1601.9,
      "end": 1604.9,
      "text": "然后我下午再打篮球,你下午再干什么"
    },
    {
      "start": 1604.9,
      "end": 1613.9,
      "text": "然后你看,我问它下午再打篮球的时候,它回答的是那真棒了,篮球是一步很棒的问题"
    },
    {
      "start": 1613.9,
      "end": 1619.9,
      "text": "然后我再问它一个问题,它应该只保留了最近的这个两条消息"
    },
    {
      "start": 1619.9,
      "end": 1630.9,
      "text": "你看我问它一个什么呢,我问它一个我叫什么啊,我叫什么名字,我看它那么打得出来"
    },
    {
      "start": 1630.9,
      "end": 1637.9,
      "text": "因为我只保留了两条嘛,看一下我前面那个消息,它知不知道我叫谁啊"
    },
    {
      "start": 1638.9,
      "end": 1646.9,
      "text": "大家看啊,就是我没有啊,你看我没有这个人的一个信息,你可能告诉我的名字嘛,因为我只保留了最近的两条"
    },
    {
      "start": 1646.9,
      "end": 1655.9,
      "text": "这个最近就是我最后加入了两条,也就是说它最后可能记住了我两句话,你看我今天下午再干嘛"
    },
    {
      "start": 1656.9,
      "end": 1673.9,
      "text": "我今天心里怎么样,可能就记住了两句话,所以说我问它啊,我今天下午再干嘛啊,我今天下午再干嘛"
    },
    {
      "start": 1673.9,
      "end": 1688.9,
      "text": "看它能不能知道啊,看一下这个记录啊,大家看,你看它就知道我在篮球,说明这个里面我这个保存最近两条记录,它就成功了"
    },
    {
      "start": 1688.9,
      "end": 1717.9,
      "text": "这个就是叫做那个消息采简啊,这个是我给它演示一个效果,然后我们来重点来看这个采简怎么来实现的呢,来来看,在这个里啊,我写了一个这个trimmessage,就是在这个里面啊,在这里啊,就是我去通过这个sation id拿消息的时候,大家看啊,在这里我要传络一个叫这个,在这里啊,做微笑啊,在这里啊,来看"
    },
    {
      "start": 1717.9,
      "end": 1746.9,
      "text": "就是我们去做这个消息啊,执行的时候啊,前面的例子跟之前一样啊,还是有一个rendable with mass history,然后这里的话,哎,你需要传络一个什么呢,叫trimmchart history,啊,根据sation id去,去这个啊,就是我们要有这么一个这个对象去取,啊,这个就是我们通过那个采简消息里面啊,定义的一个零十条天的一个对象啊,这个就是做完消息采简之后的一个数据,那这个消息采简在哪里实现的呢,在这里,大家看啊"
    },
    {
      "start": 1747.9,
      "end": 1777.8600000000001,
      "text": "就是我们单独订一个trim,啊,这个trim里面单独要有一个rendable,啊,这个这么一个叫send的一个寒树啊,这里我们要订一个message trimmed,啊,这个就可以干嘛呢,哎,它会传络一个什么呢,传络一个这个叫trimm的一个message,啊,在这个寒树里面,这里大家可以看到啊,它只里里面就做了一个判断,比如说它判断你里面消息存住小于等于爱的时候,它就直接written false了,然后把下面的给可令了,啊,说明它干嘛啊,"
    },
    {
      "start": 1777.9,
      "end": 1805.5400000000002,
      "text": "然后呢,只取最近的两条数据,啊,其实实现非常近来,就是从那个历史消息基础里面,只取最新的两条数据,报名的消息就丢细掉了,啊,非常简单,就这么,啊,几行代码就完事了,啊,所以说这个就是做消息采简,啊,就是你前面不管给他聊多少话,是吧,他只保留最后聊聊聊天记录,啊,就是这个是第一条,这个是第二条,啊,就是用户的这个消息嘛,是吧,只保留两条,啊,OK"
    },
    {
      "start": 1807.9,
      "end": 1829.9,
      "text": "聊天历史,啊,就是做一个采简,然后做完采简之后,其实我们还可以干嘛呢,啊,做一个记忆的一个总结,啊,就是说白了,你给他聊了一堆,啊,然后你问他一个问题,请帮我总结一下,咱们刚刚历史聊天聊了什么东西,啊,来,给他看一下这个例子,这个叫总结历史聊天记录,啊,这个里面,"
    },
    {
      "start": 1830.9,
      "end": 1840.9,
      "text": "好,这个的话其实也比较简单了,就是说白了就是把历史聊天记录把它参数,是吧,把了历史聊天记录的里面的数据,"
    },
    {
      "start": 1840.9,
      "end": 1845.9,
      "text": "平坚起来,平常成一个什么呢,一个提示词,哎,然后你看,"
    },
    {
      "start": 1845.9,
      "end": 1854.9,
      "text": "然后给他指示,啊,比如说我希望将上述聊天消息农桌成一条,再要消息,尽可能包含多个具体细节,啊,"
    },
    {
      "start": 1854.9,
      "end": 1861.9,
      "text": "也就是把你的聊天记录,啊,那些数据,再配合一个用户的一个什么呢,提示词,这样的话,哎,"
    },
    {
      "start": 1861.9,
      "end": 1866.9,
      "text": "他就可以干嘛呢,帮你去做一些总结归那,啊,被你的聊天记录做一个总结归那,"
    },
    {
      "start": 1866.9,
      "end": 1871.9,
      "text": "那前提是你得把聊天记录,传给他,啊,并且要加一个这样的一个提示词,"
    },
    {
      "start": 1871.9,
      "end": 1879.9,
      "text": "这样你掉用的时候干嘛呢,哎,把这个东西,哎,作为一个方法,你看,传到哪里呢,"
    },
    {
      "start": 1879.9,
      "end": 1884.9,
      "text": "就是你要封装成一个寒树啊,在这里大家看,啊,就是也是通过刚刚那个,啊,"
    },
    {
      "start": 1884.9,
      "end": 1890.9,
      "text": "一个SAN的一个寒树,啊,就是做消息的一个总结,刚刚是做消息的一个什么呢,"
    },
    {
      "start": 1890.9,
      "end": 1895.9,
      "text": "叫,呃,才简,这个是专门有一个总结的这么一个参数,"
    },
    {
      "start": 1895.9,
      "end": 1901.9,
      "text": "哎,你把总结的一个参数传给他,那浪称在掉用的时候,他就会干嘛呢,"
    },
    {
      "start": 1901.9,
      "end": 1906.9,
      "text": "帮你去做一个总结,啊,比如说我,你看我现在一个提示词就直接问他什么呢,"
    },
    {
      "start": 1906.9,
      "end": 1911.9,
      "text": "名字,下午再干嘛,心情,啊,我就问了他这个相当语问的三个问题,"
    },
    {
      "start": 1911.9,
      "end": 1915.9,
      "text": "然后他做总结之后,他会把我前面的聊天记录,"
    },
    {
      "start": 1915.9,
      "end": 1919.9,
      "text": "全部给你农作成一句话,来,给大家看一下,这个效果啊,"
    },
    {
      "start": 1928.9,
      "end": 1934.9,
      "text": "稍微一点慢啊,稍等一下,来看一下这个总结的效果怎么样啊,"
    },
    {
      "start": 1935.9,
      "end": 1940.9,
      "text": "就是我们呃,有三个问题,啊,现在语句就一句话问了三个问题,"
    },
    {
      "start": 1940.9,
      "end": 1945.9,
      "text": "然后我看一下这个历史聊天记录,啊,到底能不能给大家回总成一个消息啊,"
    },
    {
      "start": 1945.9,
      "end": 1950.9,
      "text": "这个数量是不是有点到了,太慢了啊,我超实了,我再跑一下啊,"
    },
    {
      "start": 1952.9,
      "end": 1956.9,
      "text": "我再跑一下啊,"
    },
    {
      "start": 1965.9,
      "end": 1968.9,
      "text": "啊,可能这一些有些网络问题跑不出来啊,"
    },
    {
      "start": 1969.9,
      "end": 1971.9,
      "text": "要不然去我们直接看这个文囊上面拿,"
    },
    {
      "start": 1973.9,
      "end": 1978.9,
      "text": "大家看啊,如果说他跑完的话,他就会给出这么一个反回出来,"
    },
    {
      "start": 1978.9,
      "end": 1981.9,
      "text": "啊,就是什么用户,什么什么,今天天气很好,"
    },
    {
      "start": 1981.9,
      "end": 1985.9,
      "text": "然后他今天下午再反安求,啊,就是他现在帮你做了一个总结,"
    },
    {
      "start": 1985.9,
      "end": 1989.9,
      "text": "帮你做了一个总结,所以说,哎,你问他的一个问题的话,"
    },
    {
      "start": 1989.9,
      "end": 1992.9,
      "text": "不管你问他几个问题,他最终会给你做一个农说,"
    },
    {
      "start": 1993.9,
      "end": 1995.9,
      "text": "好,这个有那个网络问题怎么就不跑了啊,"
    },
    {
      "start": 1995.9,
      "end": 1998.9,
      "text": "其实你要跑的话,那个效果也是一样的啊,"
    },
    {
      "start": 2000.9,
      "end": 2002.9,
      "text": "OK,以上的话就是本次的一个分享,"
    },
    {
      "start": 2002.9,
      "end": 2005.9,
      "text": "关于这个浪称的一个消息管理,"
    },
    {
      "start": 2005.9,
      "end": 2007.9,
      "text": "与这个聊天历史存储,"
    },
    {
      "start": 2007.9,
      "end": 2009.9,
      "text": "如果对大家有帮助的话,欢迎以前三年,"
    }
  ],
  "raw": {
    "language": "zh",
    "language_probability": 0.9990184307098389,
    "duration": 2010.8373125,
    "duration_after_vad": 2010.8373125,
    "all_language_probs": [
      [
        "zh",
        0.9990184307098389
      ],
      [
        "en",
        0.0005002109101042151
      ],
      [
        "ko",
        0.00015939775039441884
      ],
      [
        "ja",
        7.137700595194474e-05
      ],
      [
        "pt",
        4.1787225200096145e-05
      ],
      [
        "fr",
        4.104015533812344e-05
      ],
      [
        "ru",
        3.095268766628578e-05
      ],
      [
        "es",
        1.798062294255942e-05
      ],
      [
        "nn",
        1.554891605337616e-05
      ],
      [
        "tr",
        1.5219813576550223e-05
      ],
      [
        "de",
        1.2500340744736604e-05
      ],
      [
        "th",
        1.1349844498909079e-05
      ],
      [
        "la",
        9.593451977707446e-06
      ],
      [
        "cy",
        8.364429959328845e-06
      ],
      [
        "it",
        7.495109912269982e-06
      ],
      [
        "vi",
        4.640116458176635e-06
      ],
      [
        "jw",
        4.051120413350873e-06
      ],
      [
        "pl",
        3.992834990640404e-06
      ],
      [
        "ar",
        3.6304868444858585e-06
      ],
      [
        "km",
        3.4985646379936952e-06
      ],
      [
        "ms",
        3.2386008115281584e-06
      ],
      [
        "id",
        2.5814122182055144e-06
      ],
      [
        "my",
        1.4676217006126535e-06
      ],
      [
        "bo",
        1.287420786866278e-06
      ],
      [
        "fi",
        1.188065198221011e-06
      ],
      [
        "hi",
        1.0361935665059718e-06
      ],
      [
        "nl",
        1.0197476285611629e-06
      ],
      [
        "haw",
        8.361219556718424e-07
      ],
      [
        "el",
        6.325642516458174e-07
      ],
      [
        "sv",
        6.257213271965156e-07
      ],
      [
        "ta",
        4.3797311377602455e-07
      ],
      [
        "hu",
        4.115322269626631e-07
      ],
      [
        "be",
        3.9675907714809e-07
      ],
      [
        "eu",
        3.960170147365716e-07
      ],
      [
        "ur",
        3.4462544817870366e-07
      ],
      [
        "te",
        2.404800056865497e-07
      ],
      [
        "sa",
        2.303318922258768e-07
      ],
      [
        "si",
        2.1285910634105676e-07
      ],
      [
        "mn",
        2.0520458576811507e-07
      ],
      [
        "ro",
        2.040251843027363e-07
      ],
      [
        "ml",
        2.0369972730804875e-07
      ],
      [
        "ca",
        1.8099019882811263e-07
      ],
      [
        "mi",
        1.729163017216706e-07
      ],
      [
        "tl",
        1.1415431089289996e-07
      ],
      [
        "bn",
        1.1175191616530356e-07
      ],
      [
        "da",
        1.0528781757557226e-07
      ],
      [
        "br",
        1.0205331335555456e-07
      ],
      [
        "gl",
        8.526222927685012e-08
      ],
      [
        "sn",
        7.987996042402301e-08
      ],
      [
        "az",
        7.493015630188893e-08
      ],
      [
        "cs",
        6.775007221904161e-08
      ],
      [
        "no",
        6.216977510575816e-08
      ],
      [
        "uk",
        5.6593702169038806e-08
      ],
      [
        "fa",
        4.344464699101991e-08
      ],
      [
        "yo",
        3.887829436166612e-08
      ],
      [
        "ht",
        3.587488706102704e-08
      ],
      [
        "lo",
        3.3302224977660444e-08
      ],
      [
        "bs",
        2.7779659461657502e-08
      ],
      [
        "fo",
        2.7001183511288218e-08
      ],
      [
        "he",
        2.5978080131494607e-08
      ],
      [
        "yi",
        2.4772765172542677e-08
      ],
      [
        "hr",
        1.9226154890361613e-08
      ],
      [
        "ne",
        1.9210064650110326e-08
      ],
      [
        "oc",
        1.8662266398905558e-08
      ],
      [
        "af",
        1.5320711810318244e-08
      ],
      [
        "lv",
        1.504476898617213e-08
      ],
      [
        "kk",
        1.420950468400406e-08
      ],
      [
        "sk",
        1.2818988537333098e-08
      ],
      [
        "sw",
        1.264974613945924e-08
      ],
      [
        "sl",
        1.0845233155976075e-08
      ],
      [
        "sr",
        9.547091117667605e-09
      ],
      [
        "is",
        9.187636429430768e-09
      ],
      [
        "hy",
        5.181948203869524e-09
      ],
      [
        "kn",
        4.427893607328315e-09
      ],
      [
        "pa",
        4.070788595100794e-09
      ],
      [
        "bg",
        3.41231110034812e-09
      ],
      [
        "lt",
        3.218686650541258e-09
      ],
      [
        "et",
        3.070560028461955e-09
      ],
      [
        "ps",
        2.132849896696598e-09
      ],
      [
        "sq",
        2.0791750543480703e-09
      ],
      [
        "mr",
        1.83221116056842e-09
      ],
      [
        "sd",
        1.6478998166036263e-09
      ],
      [
        "ln",
        1.5888527160612398e-09
      ],
      [
        "ka",
        1.5550960519306045e-09
      ],
      [
        "as",
        1.4818749560774336e-09
      ],
      [
        "mt",
        6.821836984194363e-10
      ],
      [
        "mk",
        6.524532025764529e-10
      ],
      [
        "gu",
        5.128328872672228e-10
      ],
      [
        "am",
        3.23324284012827e-10
      ],
      [
        "so",
        1.5642367956480996e-10
      ],
      [
        "tg",
        1.272176530786595e-10
      ],
      [
        "lb",
        9.151650964822622e-11
      ],
      [
        "tt",
        7.991458883527258e-11
      ],
      [
        "su",
        5.442326450610935e-11
      ],
      [
        "uz",
        5.102791800215556e-11
      ],
      [
        "ba",
        2.136116977746738e-11
      ],
      [
        "tk",
        1.9949613142000722e-11
      ],
      [
        "ha",
        1.5836288877468796e-11
      ],
      [
        "mg",
        1.3253185007777724e-11
      ]
    ],
    "transcription_options": {
      "beam_size": 5,
      "best_of": 5,
      "patience": 1,
      "length_penalty": 1,
      "repetition_penalty": 1,
      "no_repeat_ngram_size": 0,
      "log_prob_threshold": -1.0,
      "no_speech_threshold": 0.6,
      "compression_ratio_threshold": 2.4,
      "condition_on_previous_text": true,
      "prompt_reset_on_temperature": 0.5,
      "temperatures": [
        0.0,
        0.2,
        0.4,
        0.6,
        0.8,
        1.0
      ],
      "initial_prompt": null,
      "prefix": null,
      "suppress_blank": true,
      "suppress_tokens": [
        1,
        2,
        7,
        8,
        9,
        10,
        14,
        25,
        26,
        27,
        28,
        29,
        31,
        58,
        59,
        60,
        61,
        62,
        63,
        90,
        91,
        92,
        93,
        359,
        503,
        522,
        542,
        873,
        893,
        902,
        918,
        922,
        931,
        1350,
        1853,
        1982,
        2460,
        2627,
        3246,
        3253,
        3268,
        3536,
        3846,
        3961,
        4183,
        4667,
        6585,
        6647,
        7273,
        9061,
        9383,
        10428,
        10929,
        11938,
        12033,
        12331,
        12562,
        13793,
        14157,
        14635,
        15265,
        15618,
        16553,
        16604,
        18362,
        18956,
        20075,
        21675,
        22520,
        26130,
        26161,
        26435,
        28279,
        29464,
        31650,
        32302,
        32470,
        36865,
        42863,
        47425,
        49870,
        50254,
        50258,
        50358,
        50359,
        50360,
        50361
      ],
      "without_timestamps": false,
      "max_initial_timestamp": 1.0,
      "word_timestamps": false,
      "prepend_punctuations": "\"'“¿([{-",
      "append_punctuations": "\"'.。,，!！?？:：”)]}、",
      "multilingual": false,
      "max_new_tokens": null,
      "clip_timestamps": [
        0.0
      ],
      "hallucination_silence_threshold": null,
      "hotwords": null
    },
    "vad_options": null
  }
}